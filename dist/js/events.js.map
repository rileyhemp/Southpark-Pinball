{"version":3,"sources":["events.js"],"names":["startEvent","name","scene","duration","startCartman","setTimeout","lights","hit","endCartman","cartmanCanStart","flashLights","alert","sound","playAudioSprite","playRandomSound","rampsCartmanGate","setDepth","targets","cartmanRight","cartmanLeft","cartmanCenter","cartmanBlock","target","object","setCollidesWith","collisionGroupD","result","cartman","clearInterval","isFlashing","addScore","collisionGroupA"],"mappings":";;AAAA,SAASA,UAAT,CAAoBC,IAApB,EAA0BC,KAA1B,EACA;AACI,UAAOD,IAAP;AAEI,SAAK,SAAL;AACI,UAAIE,QAAQ,GAAG,KAAf;AACAC,MAAAA,YAAY,CAACF,KAAD,CAAZ;AACAG,MAAAA,UAAU,CAAC,YACX;AACIC,QAAAA,MAAM,CAAC,aAAD,CAAN,CAAsBC,GAAtB,GAA4B,CAA5B,GAAgCC,UAAU,CAACN,KAAD,EAAQ,KAAR,CAA1C,GAA2DM,UAAU,CAACN,KAAD,EAAQ,MAAR,CAArE;AACH,OAHS,EAGPC,QAHO,CAAV;AALR;AAUH;;AAED,SAASC,YAAT,CAAsBF,KAAtB,EACA;AACIO,EAAAA,eAAe,GAAG,KAAlB;AAEHC,EAAAA,WAAW,CAAC,SAAD,CAAX;AACAC,EAAAA,KAAK,CAAC,aAAD,EAAgB,IAAhB,CAAL;AACGT,EAAAA,KAAK,CAACU,KAAN,CAAYC,eAAZ,CAA4B,eAA5B,EAA6C,OAA7C;AACHC,EAAAA,eAAe,CAAC,eAAD,EAAkBZ,KAAlB,EAAyB,GAAzB,CAAf;AACAa,EAAAA,gBAAgB,CAACC,QAAjB,CAA0B,CAA1B,EAPD,CAQI;AAEA;;AACA,MAAIC,OAAO,GAAG,CAACC,YAAD,EAAeC,WAAf,EAA4BC,aAA5B,EAA2CC,YAA3C,CAAd;;AACA,OAAM,IAAIC,MAAV,IAAoBL,OAApB,EACA;AACIA,IAAAA,OAAO,CAACK,MAAD,CAAP,CAAgBC,MAAhB,CAAuBC,eAAvB,CAAuCC,eAAvC;AACH;AACJ;;AAED,SAASjB,UAAT,CAAoBN,KAApB,EAA2BwB,MAA3B,EACA;AACCpB,EAAAA,MAAM,CAACqB,OAAP,CAAeR,WAAf,CAA2BZ,GAA3B,GAAiC,CAAjC;AACAD,EAAAA,MAAM,CAACqB,OAAP,CAAeP,aAAf,CAA6Bb,GAA7B,GAAmC,CAAnC;AACAD,EAAAA,MAAM,CAACqB,OAAP,CAAeT,YAAf,CAA4BX,GAA5B,GAAkC,CAAlC;AACAqB,EAAAA,aAAa,CAACtB,MAAM,CAACqB,OAAP,CAAeE,UAAhB,CAAb;AACAd,EAAAA,gBAAgB,CAACC,QAAjB,CAA0B,CAA1B;;AACG,MAAIU,MAAM,KAAK,KAAf,EACA;AACFI,IAAAA,QAAQ,CAAC,aAAD,CAAR;AACAnB,IAAAA,KAAK,CAAC,8BAAD,EAAiC,IAAjC,CAAL;AACMG,IAAAA,eAAe,CAAC,aAAD,EAAgBZ,KAAhB,EAAuB,GAAvB,CAAf;AACH,GALD,MAMA;AACIS,IAAAA,KAAK,CAAC,gBAAD,EAAmB,IAAnB,CAAL;AACH;;AACDL,EAAAA,MAAM,CAAC,aAAD,CAAN,CAAsBC,GAAtB,GAA4B,CAA5B;AACAL,EAAAA,KAAK,CAACU,KAAN,CAAYC,eAAZ,CAA4B,eAA5B,EAA6C,qBAA7C;AACA,MAAII,OAAO,GAAG,CAACC,YAAD,EAAeC,WAAf,EAA4BC,aAA5B,EAA2CC,YAA3C,CAAd;;AACA,OAAM,IAAIC,MAAV,IAAoBL,OAApB,EACA;AACIA,IAAAA,OAAO,CAACK,MAAD,CAAP,CAAgBC,MAAhB,CAAuBC,eAAvB,CAAuCO,eAAvC;AACN;;AACDtB,EAAAA,eAAe,GAAG,IAAlB;AACA","sourcesContent":["function startEvent(name, scene)\r\n{\r\n    switch(name) \r\n    {\r\n        case \"cartman\" :\r\n            let duration = 14500\r\n            startCartman(scene)\r\n            setTimeout(()=>\r\n            {\r\n                lights['cartmanBody'].hit > 4 ? endCartman(scene, 'win') : endCartman(scene, 'loss')\r\n            }, duration)\r\n    }\r\n}\r\n\r\nfunction startCartman(scene)\r\n{\r\n    cartmanCanStart = false\r\n\r\n\tflashLights('cartman')\r\n\talert('Hit Cartman', 4000)\r\n    scene.sound.playAudioSprite('sound_effects', 'Drain')\r\n\tplayRandomSound('cartman_start', scene, 500)\r\n\trampsCartmanGate.setDepth(0)\r\n    //Reset the counter\r\n\r\n    //Open the cartman ramp once all targets are hit\r\n    let targets = [cartmanRight, cartmanLeft, cartmanCenter, cartmanBlock]\r\n    for ( let target in targets )\r\n    {\r\n        targets[target].object.setCollidesWith(collisionGroupD)\r\n    }\r\n}\r\n\r\nfunction endCartman(scene, result)\r\n{\r\n\tlights.cartman.cartmanLeft.hit = 0\r\n\tlights.cartman.cartmanCenter.hit = 0\r\n\tlights.cartman.cartmanRight.hit = 0\r\n\tclearInterval(lights.cartman.isFlashing)\r\n\trampsCartmanGate.setDepth(2)\r\n    if (result === 'win' )\r\n    {\r\n\t\taddScore('cartman-win')\r\n\t\talert('Defeated Cartman - 1,000,000', 2000)\r\n        playRandomSound('cartman_end', scene, 500)\r\n    } else \r\n    {\r\n        alert('Cartman Failed', 2000)\r\n    }\r\n    lights['cartmanBody'].hit = 0\r\n    scene.sound.playAudioSprite('sound_effects', 'kicker_enter_center')\r\n    let targets = [cartmanRight, cartmanLeft, cartmanCenter, cartmanBlock]\r\n    for ( let target in targets )\r\n    {\r\n        targets[target].object.setCollidesWith(collisionGroupA)\r\n\t}\r\n\tcartmanCanStart = true\r\n}"],"file":"events.js"}