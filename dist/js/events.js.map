{"version":3,"sources":["events.js"],"names":["startEvent","name","scene","duration","startCartman","setTimeout","objectives","endCartman","flashLights","sound","playAudioSprite","rampsCartmanActive","setDepth","ramps","targets","cartmanRight","cartmanLeft","cartmanCenter","cartmanBlock","target","object","setCollidesWith","collisionGroupD","result","clearInterval","lights","cartman","areFlashing","addScore","collisionGroupA"],"mappings":";;AAAA,SAASA,UAAT,CAAoBC,IAApB,EAA0BC,KAA1B,EACA;AACI,UAAOD,IAAP;AAEI,SAAK,SAAL;AACI,UAAIE,QAAQ,GAAG,IAAf,CADJ,CACwB;;AACpBC,MAAAA,YAAY,CAACF,KAAD,CAAZ;AACAG,MAAAA,UAAU,CAAC,YACX;AACIC,QAAAA,UAAU,CAAC,iBAAD,CAAV,GAAgC,CAAhC,GAAoCC,UAAU,CAACL,KAAD,EAAQ,KAAR,CAA9C,GAA+DK,UAAU,CAACL,KAAD,EAAQ,MAAR,CAAzE;AACH,OAHS,EAGPC,QAHO,CAAV;AALR;AAUH;;AAED,SAASC,YAAT,CAAsBF,KAAtB,EACA;AAEI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACH;AAEAM,EAAAA,WAAW,CAAC,SAAD,CAAX;AACGN,EAAAA,KAAK,CAACO,KAAN,CAAYC,eAAZ,CAA4B,eAA5B,EAA6C,OAA7C,EAfJ,CAgBI;;AACAC,EAAAA,kBAAkB,CAACC,QAAnB,CAA4B,CAA5B;AACAC,EAAAA,KAAK,CAACD,QAAN,CAAe,CAAf,EAlBJ,CAmBI;;AACAN,EAAAA,UAAU,CAAC,cAAD,CAAV,GAA6B,CAA7B;AACAA,EAAAA,UAAU,CAAC,gBAAD,CAAV,GAA+B,CAA/B;AACAA,EAAAA,UAAU,CAAC,eAAD,CAAV,GAA8B,CAA9B,CAtBJ,CAuBI;;AACA,MAAIQ,OAAO,GAAG,CAACC,YAAD,EAAeC,WAAf,EAA4BC,aAA5B,EAA2CC,YAA3C,CAAd;;AACA,OAAM,IAAIC,MAAV,IAAoBL,OAApB,EACA;AACIA,IAAAA,OAAO,CAACK,MAAD,CAAP,CAAgBC,MAAhB,CAAuBC,eAAvB,CAAuCC,eAAvC;AACH;AACJ;;AAED,SAASf,UAAT,CAAoBL,KAApB,EAA2BqB,MAA3B,EACA;AACCC,EAAAA,aAAa,CAACC,MAAM,CAACC,OAAP,CAAeC,WAAhB,CAAb,CADD,CAEI;;AACA,MAAIJ,MAAM,KAAK,KAAf,EACA;AACFK,IAAAA,QAAQ,CAAC,aAAD,CAAR,CADE,CAEI;AACH,GAJD,MAKA,CACI;AACH;;AACDtB,EAAAA,UAAU,CAAC,iBAAD,CAAV,GAAgC,CAAhC;AACAK,EAAAA,kBAAkB,CAACC,QAAnB,CAA4B,CAA5B;AACAC,EAAAA,KAAK,CAACD,QAAN,CAAe,CAAf;AACAV,EAAAA,KAAK,CAACO,KAAN,CAAYC,eAAZ,CAA4B,eAA5B,EAA6C,qBAA7C;AACA,MAAII,OAAO,GAAG,CAACC,YAAD,EAAeC,WAAf,EAA4BC,aAA5B,EAA2CC,YAA3C,CAAd;;AACA,OAAM,IAAIC,MAAV,IAAoBL,OAApB,EACA;AACIA,IAAAA,OAAO,CAACK,MAAD,CAAP,CAAgBC,MAAhB,CAAuBC,eAAvB,CAAuCQ,eAAvC;AACH;AACJ","sourcesContent":["function startEvent(name, scene)\r\n{\r\n    switch(name) \r\n    {\r\n        case \"cartman\" :\r\n            let duration = 5000 //14500\r\n            startCartman(scene)\r\n            setTimeout(()=>\r\n            {\r\n                objectives['cartman-himself'] > 4 ? endCartman(scene, 'win') : endCartman(scene, 'loss')\r\n            }, duration)\r\n    }\r\n}\r\n\r\nfunction startCartman(scene)\r\n{\r\n    \r\n    // eventMusic = scene.sound.add('cartman_music')\r\n    // setTimeout(()=>\r\n    //     {\r\n    //         backgroundMusic ? backgroundMusic.pause() : null\r\n    //         eventMusic.play()\r\n    //         scene.tweens.add({\r\n    //             targets: eventMusic,\r\n    //             volume: { from: 0, to: 1 },\r\n    //             duration: 1000,\r\n    //         })\r\n\t//     }, 2000)\r\n\r\n\tflashLights('cartman')\r\n    scene.sound.playAudioSprite('sound_effects', 'Drain')\r\n    // playRandomSound('cartman_start', scene, 500)\r\n    rampsCartmanActive.setDepth(2)\r\n    ramps.setDepth(0)\r\n    //Reset the counter\r\n    objectives['cartman-left'] = 0\r\n    objectives['cartman-center'] = 0\r\n    objectives['cartman-right'] = 0\r\n    //Open the cartman ramp\r\n    let targets = [cartmanRight, cartmanLeft, cartmanCenter, cartmanBlock]\r\n    for ( let target in targets )\r\n    {\r\n        targets[target].object.setCollidesWith(collisionGroupD)\r\n    }\r\n}\r\n\r\nfunction endCartman(scene, result)\r\n{\r\n\tclearInterval(lights.cartman.areFlashing)\r\n    // eventMusic.stop()\r\n    if (result === 'win' )\r\n    {\r\n\t\taddScore('cartman-win')\r\n        // playRandomSound('cartman_end', scene, 500)\r\n    } else \r\n    {\r\n        // playRandomSound('generic_negative', scene, 500)\r\n    }\r\n    objectives['cartman-himself'] = 0\r\n    rampsCartmanActive.setDepth(0)\r\n    ramps.setDepth(2)\r\n    scene.sound.playAudioSprite('sound_effects', 'kicker_enter_center')\r\n    let targets = [cartmanRight, cartmanLeft, cartmanCenter, cartmanBlock]\r\n    for ( let target in targets )\r\n    {\r\n        targets[target].object.setCollidesWith(collisionGroupA)\r\n    }\r\n}"],"file":"events.js"}