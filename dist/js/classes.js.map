{"version":3,"sources":["classes.js"],"names":["Ball","scene","x","y","texture","matter","world","body","friction","frictionAir","sys","displayList","add","setCollidesWith","collisionGroupA","collisionGroupB","setCollisionCategory","setDensity","setDepth","label","killZoneCheck","id","balls","push","i","setInterval","destroy","clearInterval","Phaser","Physics","Matter","Image","StaticShape","type","width","height","rotation","collisionGroup","drawShape","collisionFilter","category","rectangle","isStatic","angle","circle","alert","StaticCustomShape","name","setExistingBody","Bodies","fromVertices","PATHS","restitution","setVisible","setStatic","Bumper","setCircle","setScale","mass","position","startPosition","targetX","targetY","tweens","targets","yoyo","duration","setTimeout","Sensor","level","isSensor"],"mappings":"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","sourcesContent":["class Ball extends Phaser.Physics.Matter.Image {\r\n    constructor(scene, x, y, texture) {\r\n        super(scene.matter.world, x, y, texture)\r\n        super.setScale(.21) \r\n        super.setCircle(8.75)\r\n        this.body.friction = 0\r\n        this.body.frictionAir = 0.0001\r\n        scene.sys.displayList.add(this)\r\n        this.setCollidesWith([collisionGroupA, collisionGroupB])\r\n        this.setCollisionCategory(collisionGroupA)\r\n        this.setDensity(.0009)\r\n        this.setDepth(1)\r\n        // this.body.restitution = 0.2\r\n        // this.setBounce(0.2)\r\n        this.body.label = 'Ball'\r\n        this.killZoneCheck()\r\n        this.id = this.body.id\r\n        balls.push(this.body)\r\n    }\r\n    launch(){\r\n        super.setVelocityY(-20.5)\r\n    }\r\n    killZoneCheck(){\r\n        let i = setInterval(()=>{\r\n            if (this.y > 720){\r\n                this.destroy()\r\n                clearInterval(i)\r\n            }\r\n        }, 100)\r\n    }\r\n}\r\n\r\nclass StaticShape {\r\n    constructor(scene, type, x, y, width, height, rotation, collisionGroup){\r\n        this.body = {}\r\n        this.scene = scene\r\n        this.type = type\r\n        this.x = x\r\n        this.y = y\r\n        this.width = width\r\n        this.height = height\r\n        this.rotation = rotation\r\n        this.drawShape()\r\n        this.body.collisionFilter.category = collisionGroup\r\n    }\r\n    drawShape(){\r\n        if (this.type === 'rectangle'){\r\n            this.body = this.scene.matter.add.rectangle(this.x, this.y, this.width, this.height, {\r\n                isStatic: true,\r\n                angle: this.rotation\r\n            })\r\n        } else if (this.type === 'circle'){\r\n            this.body = this.scene.matter.add.circle(this.x, this.y, this.width, {\r\n                isStatic: true\r\n            })\r\n        } else {\r\n            alert `${this.type} is not a supported shape`\r\n        }\r\n    }\r\n}\r\n\r\nclass StaticCustomShape extends Phaser.Physics.Matter.Image {\r\n    constructor(scene, x, y, name, collisionGroup){\r\n        super(scene.matter.world, x, y, name)\r\n        this.setExistingBody(Bodies.fromVertices(0,0, PATHS[`${name}`]))\r\n        this.body.restitution = 0\r\n        this.setVisible(false)\r\n        this.setStatic(true)\r\n        this.x = x\r\n        this.y = y\r\n        this.setCollisionCategory(collisionGroup)\r\n    }\r\n}\r\n\r\nclass Bumper extends Phaser.Physics.Matter.Image {\r\n    constructor(scene, x, y, name){\r\n        super(scene.matter.world, x, y, name)\r\n        this.setCircle(24)\r\n        this.setStatic(true)\r\n        this.setScale(0.85)\r\n        this.body.mass = .999\r\n        this.x = x\r\n        this.y = y\r\n        this.body.label = name\r\n        this.scene = scene\r\n        this.body.restitution = 1.5\r\n    }\r\n    fire(position){\r\n        //Grab the starting position\r\n        let startPosition = {\r\n            x: this.x,\r\n            y: this.y\r\n        }\r\n        //Calculate the midpoint between the ball and bumper\r\n        let targetX = (this.x + position.x) / 2\r\n        let targetY = (this.y + position.y) / 2\r\n\r\n        //Tween to that point\r\n        this.scene.tweens.add({\r\n            targets: this,\r\n            x: targetX,\r\n            y: targetY,\r\n            yoyo: true,\r\n            duration: 20\r\n        })\r\n        //Reset the bumper after a brief delay\r\n        setTimeout(()=>{\r\n            this.x = startPosition.x\r\n            this.y = startPosition.y\r\n        }, 50)\r\n    }\r\n}\r\n\r\nclass Sensor extends StaticShape {\r\n    constructor(scene, x, y, type, level, label){\r\n        super(scene, 'circle', x, y, 12)\r\n        this.body.collisionFilter.category = 2\r\n        this.body.isSensor = true\r\n        this.body.type = type\r\n        this.level = level\r\n        this.body.label = label\r\n    }\r\n}"],"file":"classes.js"}