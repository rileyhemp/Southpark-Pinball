{"version":3,"sources":["game.js"],"names":["config","type","Phaser","CANVAS","width","height","physics","default","matter","debug","gravity","x","y","scene","preload","create","update","Bodies","Physics","Matter","balls","spacebar","left","right","ball","bounds","leftFlipper","rightFlipper","testShape","bumperA","bumperB","bumperC","playfield","plastics","collisionGroupA","collisionGroupB","collisionGroupC","collisionGroupD","collisionGroupE","sensors","isOnRamp","leftRampDivert","leftRampDiverter","leftRampBottom","flipperCollisionGroup","test","tween","testFlipper","game","Game","load","image","world","nextCategory","setBounds","input","keyboard","addKey","Input","Keyboard","KeyCodes","LEFT","RIGHT","SPACE","on","pointer","Ball","console","log","setCollidesWith","blueprint","add","LeftFlipper","RightFlipper","Bumper","StaticCustomShape","setScale","setBounce","StaticShape","Sensor","event","bodyA","bodyB","label","isSensor","slingshotA","fire","slingshotB","canCallA","canCallB","canCallC","position","setTimeout","hold","JustDown","launch","flip","isFlipping","JustUp","release","length","forEach","collisionFilter","mask"],"mappings":"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","sourcesContent":["\r\n//Initial config\r\n\r\nconst config = {\r\n    type: Phaser.CANVAS,\r\n    width: 520,\r\n    height: 800,\r\n    physics: {\r\n        default: 'matter',\r\n        matter: {\r\n            debug: true,\r\n            gravity: {\r\n                x: 0,\r\n                y: 1\r\n            }\r\n        }\r\n    },\r\n    scene: {\r\n        preload: preload, \r\n        create: create,\r\n        update: update \r\n    }\r\n}\r\n\r\n//Declare global variables \r\n\r\nconst Bodies = Phaser.Physics.Matter.Matter.Bodies\r\n\r\nlet balls = []\r\n\r\nlet \r\n    spacebar, \r\n    left,\r\n    right,\r\n    ball, \r\n    bounds, \r\n    leftFlipper, \r\n    rightFlipper, \r\n    testShape,\r\n    bumperA, bumperB, bumperC,\r\n\r\n    //Background\r\n    playfield,\r\n    plastics,\r\n\r\n    //Utilities\r\n    collisionGroupA,\r\n    collisionGroupB,\r\n    collisionGroupC,\r\n    collisionGroupD,\r\n    collisionGroupE,\r\n    sensors,\r\n    isOnRamp,\r\n    leftRampDivert, // Default: false\r\n    leftRampDiverter, \r\n    leftRampBottom,\r\n    flipperCollisionGroup,\r\n    test,\r\n    tween,\r\n    testFlipper\r\n    \r\nconst game = new Phaser.Game(config)\r\n\r\n//Load assets\r\n\r\nfunction preload() {\r\n    this.load.image('ball', 'dist/assets/sprites/wizball.png')\r\n    this.load.image('rectA', 'dist/assets/solids/grey-solid.svg')\r\n    this.load.image('schematic', 'dist/assets/schematic.jpg')\r\n    this.load.image('blueprint', 'dist/assets/blueprint.png')\r\n    this.load.image('plastics', 'dist/assets/Plasticos.png')\r\n    this.load.image('playfield', 'dist/assets/Playfield.png')\r\n}\r\n\r\n//Initialize table\r\n\r\nfunction create() {\r\n\r\n    //Set some things up, inputs, collisiongroups, etc. \r\n    sensors = this.matter.world.nextCategory() // Sensors collision group\r\n    collisionGroupA = this.matter.world.nextCategory() // Ball\r\n    collisionGroupB = this.matter.world.nextCategory() // Walls\r\n    collisionGroupC = this.matter.world.nextCategory()\r\n    collisionGroupD = this.matter.world.nextCategory()\r\n    collisionGroupE = this.matter.world.nextCategory()\r\n    flipperCollisionGroup = this.matter.world.nextCategory()\r\n    isOnRamp = false\r\n    leftRampDivert = false\r\n\r\n    test = this\r\n    bounds = this.matter.world.setBounds(0, 0, 520, 800, 30, true, true, true, true)\r\n    left = this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.LEFT)\r\n    right = this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.RIGHT)\r\n    spacebar = this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.SPACE)\r\n    \r\n    //Add a ball where you click\r\n    this.input.on('pointerdown', function(pointer){\r\n        ball = new Ball(this, pointer.x, pointer.y, 'ball') \r\n        console.log(pointer.x, ',', pointer.y)\r\n        //ball.setCollisionCategory(sensors)\r\n        ball.setCollidesWith([collisionGroupC,  sensors])\r\n    }, this)\r\n\r\n    \r\n    //Layout overlay\r\n    let blueprint = this.add.image(260,400, 'blueprint')\r\n    \r\n    // playfield = this.add.image(220, 445, 'playfield')\r\n    // playfield.setScale(0.21)\r\n    // playfield.setDepth(1)\r\n    \r\n    // plastics = this.add.image(220, 445, 'plastics')\r\n    // plastics.setScale(0.21)\r\n    // plastics.setDepth(1)\r\n    \r\n    //Flippers\r\n    leftFlipper = new LeftFlipper(this, 147, 634) \r\n    rightFlipper = new RightFlipper(this, 330, 634)\r\n\r\n    //Pop bumpers\r\n    bumperA = new Bumper(this, 305, 100, 'bumperA')\r\n    bumperB = new Bumper(this, 392, 95, 'bumperB')\r\n    bumperC = new Bumper(this, 360, 149, 'bumperC')\r\n    \r\n    //Static Objects\r\n    /*********************************************************/\r\n    //StaticCustomShape(scene, x, y, path, collision group)\r\n    //StaticShape(scene, type, x, y, width, height, rotation, collision group)\r\n\r\n    //First level (collision group B)\r\n    new StaticCustomShape(this, 160, 168, 'leftRampRight', collisionGroupB)\r\n    new StaticCustomShape(this, 378, 591, 'rightLane', collisionGroupB)\r\n    new StaticCustomShape(this, 97, 591, 'leftLane', collisionGroupB)\r\n    new StaticCustomShape(this, 369, 185, 'rightTrapCowl', collisionGroupB)\r\n    new StaticCustomShape(this, 481, 455, 'farRightWall', collisionGroupB)\r\n    new StaticCustomShape(this, 135, 222, 'leftRampLeft', collisionGroupB)\r\n    new StaticCustomShape(this, 282, 112, 'rightRampLeft', collisionGroupB)\r\n    new StaticCustomShape(this, 445, 530, 'rightWallA', collisionGroupB).setScale(1, 1.1)\r\n    new StaticCustomShape(this, 431, 310, 'rightWallB', collisionGroupB)\r\n    new StaticCustomShape(this, 250, 740, 'killZone', collisionGroupB)\r\n    new StaticCustomShape(this, 120, 535, 'leftSlingshot', collisionGroupB)\r\n    new StaticCustomShape(this, 355, 535, 'rightSlingshot', collisionGroupB)\r\n    new StaticCustomShape(this, 342, 140, 'rightRampRight', collisionGroupB).setBounce(1)\r\n    new StaticCustomShape(this, 40, 488, 'leftWall', collisionGroupB).setScale(1,1.1)\r\n    new StaticCustomShape(this, 130, 170, 'topLoop', collisionGroupB)\r\n    new StaticCustomShape(this, 125, 110, 'leftLoopTop', collisionGroupB)\r\n    new StaticCustomShape(this, 218, 90, 'midTargetLeft', collisionGroupB)\r\n    new StaticCustomShape(this, 398, 392, 'rightTargets', collisionGroupB) \r\n    new StaticShape(this, 'rectangle', 260, 197, 75, 15, .02, 8) \r\n    new StaticShape(this, 'rectangle', 156, 110, 90, 15, 1.45, 8) \r\n    \r\n    //Small round rubbers\r\n    new StaticShape(this, 'circle', 403, 482, 5, null, null, 8) \r\n    new StaticShape(this, 'circle', 72, 482, 5, null, null, 8) \r\n    new StaticShape(this, 'circle', 298, 73, 5, null, null, 8) \r\n    new StaticShape(this, 'circle', 405, 121, 5, null, null, 8)  \r\n\r\n    //Medium round rubbers\r\n    new StaticShape(this, 'circle', 236, 698, 8, null, null, 8) // Center post\r\n    new StaticShape(this, 'circle', 88, 421, 8, null, null, 8) \r\n    new StaticShape(this, 'circle', 140, 571, 8, null, null, 8) //Slingshot corners\r\n    new StaticShape(this, 'circle', 365, 487, 8, null, null, 8) // \r\n    new StaticShape(this, 'circle', 331, 570, 8, null, null, 8) // \r\n    new StaticShape(this, 'circle', 108, 487, 8, null, null, 8) // \r\n    new StaticShape(this, 'circle', 291, 38, 8, null, null, 8)//Top tri-lane\r\n    new StaticShape(this, 'circle', 325, 39, 8, null, null, 8)//Top tri-lane\r\n    new StaticShape(this, 'circle', 359, 37, 8, null, null, 8)//Top tri-lane\r\n    new StaticShape(this, 'circle', 392, 37, 8, null, null, 8)//Top tri-lane\r\n    new StaticShape(this, 'circle', 292, 59, 8, null, null, 8)//Top tri-lane\r\n    new StaticShape(this, 'circle', 326, 59, 8, null, null, 8)//Top tri-lane\r\n    new StaticShape(this, 'circle', 360, 58, 8, null, null, 8)//Top tri-lane\r\n    new StaticShape(this, 'circle', 394, 58, 8, null, null, 8)//Top tri-lane\r\n\r\n    //Second level (collision group C)\r\n    new StaticCustomShape(this, 45, 500, 'leftLaneBottomLeft', collisionGroupC) // lane Lane bottom L\r\n    new StaticCustomShape(this, 92, 450, 'leftLaneBottomRight', collisionGroupC) // Left lane bottom R\r\n    new StaticCustomShape(this, 150, 110, 'rightRampDivider', collisionGroupC)\r\n    new StaticCustomShape(this, 135, 7, 'leftRampTop', collisionGroupC)\r\n    leftRampDiverter = new StaticCustomShape(this, 130, 10, 'leftRampDiverter', collisionGroupC)\r\n    leftRampBottom = new StaticShape(this, 'circle', 128, 50, 25, null, null, collisionGroupC) // Left ramp bottom\r\n    new StaticShape(this, 'circle', 365, 80, 50, null, null, collisionGroupC) //Right ramp bottom\r\n    new StaticCustomShape(this, 345, 16, 'rightRampTop', collisionGroupC) // Right ramp top\r\n    new StaticShape(this, 'rectangle', 55, 228, 15, 360, 0.095, 16) // Left lane L\r\n    new StaticShape(this, 'rectangle', 92, 228, 15, 360, 0.095, 16) // Left lane R\r\n    new StaticShape(this, 'rectangle', 100, 522, 15, 25, 1, 16) // Left ramp termination\r\n    new StaticShape(this, 'rectangle', 200, 72, 15, 150, -0.2, 16) // Mid ramp right\r\n    new StaticShape(this, 'rectangle', 275, 90, 15, 110, -0.2, 16) // Right ramp left\r\n    new StaticShape(this, 'rectangle', 325, 95, 15, 80, -0.2, 16) // Right ramp right\r\n    new StaticShape(this, 'rectangle', 422, 228, 15, 345, -0.095, 16) // Right lane L\r\n    new StaticShape(this, 'rectangle', 464, 228, 15, 360, -0.095, 16) // Right lane R\r\n    new StaticShape(this, 'rectangle', 401, 449, 140, 15, -1, 16) // Right lane Bottom L\r\n    new StaticShape(this, 'rectangle', 438, 469, 150, 15, -1, 16) // Right lane Bottom R\r\n    new StaticShape(this, 'rectangle', 376, 523, 15, 25, -1, 16) // Right lane termination\r\n\r\n    \r\n\r\n    //Sensors \r\n\r\n    //Ramp on / off sensors\r\n    new Sensor(this, 126, 170, 'ramp', 1, 'leftRampOn')\r\n    new Sensor(this, 187, 146, 'ramp', 1, 'centerRampOn')\r\n    new Sensor(this, 89, 506, 'ramp', 2, 'leftRampOff')  \r\n    new Sensor(this, 309, 135, 'ramp', 2, 'rightRampOn')  \r\n    new Sensor(this, 386, 507, 'ramp', 2, 'rightRampOff')  \r\n\r\n\r\n\r\n    //Collision events\r\n    /*********************************************************/\r\n\r\n\r\n    this.matter.world.on('collisionstart', function(event, bodyA, bodyB){\r\n\r\n        //Sensors\r\n        if (bodyB.label === 'Ball' && bodyA.isSensor) {\r\n            console.log(bodyA)\r\n            //Indicates if the ball is on a ramp\r\n            if (bodyA.type === 'ramp') {\r\n                isOnRamp = !isOnRamp\r\n                console.log(isOnRamp)\r\n            }\r\n\r\n            //Toggles the left ramp diverter\r\n            if (bodyA.label === \"leftRampOn\"){\r\n                leftRampDivert = true\r\n                console.log('Left ramp divert', leftRampDivert)\r\n            }\r\n\r\n            if (bodyA.label === \"centerRampOn\"){\r\n                leftRampDivert = false\r\n                console.log('Left ramp divert', leftRampDivert)\r\n            }\r\n        }\r\n        \r\n        //Slingshots\r\n        if (bodyB.label === 'Ball' && bodyA.label === 'Slingshot'){\r\n            slingshotA.fire()\r\n            slingshotB.fire()\r\n        }\r\n\r\n        //Pop bumpers\r\n        let canCallA = true\r\n        let canCallB = true\r\n        let canCallC = true\r\n        if ( bodyA.label === \"bumperA\" && bodyB.label  === 'Ball' && canCallA) {\r\n            canCallA = false\r\n            bumperA.fire(bodyB.position, \"bumperA\")\r\n            setTimeout(()=>{\r\n                canCallA = true\r\n            }, 100)\r\n        }\r\n        if ( bodyA.label === \"bumperB\" && bodyB.label  === 'Ball' && canCallB) {\r\n            canCallB = false\r\n            bumperB.fire(bodyB.position, \"bumperB\")\r\n            setTimeout(()=>{\r\n                canCallB = true\r\n            }, 100)\r\n        }\r\n        if ( bodyA.label === \"bumperC\" && bodyB.label  === 'Ball' && canCallC) {\r\n            canCallC = false\r\n            bumperC.fire(bodyB.position, \"bumperC\")\r\n            setTimeout(()=>{\r\n                canCallC = true\r\n            }, 100)\r\n        }\r\n    })\r\n}\r\n\r\nfunction update() {\r\n    \r\n    leftFlipper.hold()\r\n    rightFlipper.hold()\r\n\r\n    \r\n    if(Phaser.Input.Keyboard.JustDown(spacebar)){\r\n        ball = new Ball(this, 416, 773, 'ball') \r\n        ball.launch()\r\n    }\r\n    \r\n    if (Phaser.Input.Keyboard.JustDown(left)){\r\n        leftFlipper.flip() \r\n        leftFlipper.isFlipping = true\r\n    } \r\n    \r\n    if (Phaser.Input.Keyboard.JustUp(left)){\r\n        leftFlipper.isFlipping = false\r\n        leftFlipper.release()\r\n    } \r\n\r\n    if (Phaser.Input.Keyboard.JustDown(right)){\r\n        rightFlipper.flip()\r\n        rightFlipper.isFlipping = true\r\n    } \r\n\r\n    if (Phaser.Input.Keyboard.JustUp(right)){\r\n        rightFlipper.isFlipping = false\r\n        rightFlipper.release()\r\n    } \r\n\r\n    //Changes what bodies the ball collides depending on whether it went up a ramp or not. \r\n    if (balls.length && !isOnRamp){\r\n        balls.forEach(ball => {\r\n            ball.collisionFilter.mask = 14\r\n        })\r\n    } else if (balls.length && isOnRamp){\r\n        balls.forEach(ball => {\r\n            ball.collisionFilter.mask = 18\r\n        })\r\n    }\r\n\r\n    if (!leftRampDivert) {\r\n        leftRampDiverter.setCollidesWith(collisionGroupB)\r\n    } else if (leftRampDivert){\r\n        leftRampDiverter.setCollidesWith(collisionGroupA)\r\n    }\r\n\r\n\r\n    \r\n\r\n\r\n} "],"file":"game.js"}