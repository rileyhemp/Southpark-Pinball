{"version":3,"sources":["game.js"],"names":["config","type","Phaser","CANVAS","width","height","physics","default","matter","debug","gravity","x","y","scene","preload","create","update","Bodies","Physics","Matter","balls","currentBall","multiplier","score","leftFlipper","rightFlipper","sideFlipper","bumperA","bumperB","bumperC","slingshotA","slingshotB","launcher","bounds","ball","table","ramps","characters","rampsCartmanActive","spacebar","left","right","down","collisionGroupA","collisionGroupB","collisionGroupC","collisionGroupD","collisionGroupE","sensorGroupA","sensorGroupB","cartmanLeft","cartmanCenter","cartmanRight","cartmanBlock","objectives","test","gameActive","backgroundMusic","eventMusic","game","Game","world","positionIterations","velocityIterations","nextCategory","setBounds","input","keyboard","addKey","Input","Keyboard","KeyCodes","LEFT","DOWN","RIGHT","SPACE","on","pointer","console","log","Ball","setVelocityX","add","image","setDepth","LeftFlipper","RightFlipper","SideFlipper","Bumper","Slingshot","Launcher","StaticCustomShape","setScale","setAngle","StaticShape","setCollidesWith","Sensor","event","bodyA","bodyB","label","registerHit","addScore","playRandomSound","isOnRamp","isOnPlastic","isOnCenterRamp","setTimeout","isOnLauncher","fire","gameObject","position","sound","playAudioSprite","volume","sounds","Math","floor","random","length","render","visible","isDestroyed","destroy","setVelocityY","JustDown","launch","flip","JustUp","release","charge","getNewBall","startEvent","newGame","endGame","pause","document","querySelector","textContent","name","amount","total","sprite","delay","spritemap","Object","keys","cache","json","get"],"mappings":"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","sourcesContent":["\n//Initial config\n\nconst config = {\n    type: Phaser.CANVAS,\n    width: 520,\n    height: 800,\n    physics: {\n        default: 'matter',\n        matter: {\n            debug: true,\n            gravity: {\n                x: 0,\n                y: .9\n            }\n        }\n    },\n    scene: {\n        preload: preload, \n        create: create,\n        update: update \n    }\n}\n\n//Declare global variables \n\nconst Bodies = Phaser.Physics.Matter.Matter.Bodies\n\nlet balls = []\nlet currentBall = 1\nlet multiplier = 1\nlet score = 0\n\nlet \n    leftFlipper, rightFlipper, sideFlipper,\n    bumperA, bumperB, bumperC,\n    slingshotA, slingshotB,\n    launcher,\n    bounds, \n    ball, \n\n    //Table\n    table, ramps, characters, rampsCartmanActive,\n\n    //Utilities\n    spacebar, left, right, down,\n    collisionGroupA, collisionGroupB, collisionGroupC, collisionGroupD, collisionGroupE,\n    sensorGroupA, sensorGroupB,\n    cartmanLeft, cartmanCenter, cartmanRight, cartmanBlock,\n    objectives, \n    test,\n    gameActive,\n    backgroundMusic, eventMusic\n    \nconst game = new Phaser.Game(config)\n\n//Create the table\n\nfunction create() {\n\n    this.matter.world.positionIterations = 10\n    this.matter.world.velocityIterations = 10\n\n    //Set some things up, inputs, collisiongroups, etc. \n    sensorGroupA = this.matter.world.nextCategory() // Ground level sensors\n    sensorGroupB = this.matter.world.nextCategory() // Upper level sensors\n    collisionGroupA = this.matter.world.nextCategory() // Ball\n    collisionGroupB = this.matter.world.nextCategory() // Walls\n    collisionGroupC = this.matter.world.nextCategory() \n    collisionGroupD = this.matter.world.nextCategory()\n    collisionGroupE = this.matter.world.nextCategory()\n    test = this\n    bounds = this.matter.world.setBounds(0, 0, 520, 800, 30, true, true, true, true)\n    left = this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.LEFT)\n    down = this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.DOWN)\n    right = this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.RIGHT)\n    spacebar = this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.SPACE)\n    \n    //Tracks a hit count for each target, per ball. \n    objectives = \n    {\n        'cartman-left': 0,\n        'cartman-center': 0,\n        'cartman-right': 0,\n        'cartman-himself': 0,\n        'loop-hit': 0\n    }\n\n\n    //Utility functions\n\n    //Add a ball where you click\n    this.input.on('pointerdown', function(pointer)\n    {\n        console.log(pointer.x+\",\", pointer.y)\n        // //ball.readyBall()\n        ball = new Ball(this, pointer.x, pointer.y, 'ball') \n        ball.setVelocityX(10)\n        // newGame(this)\n    }, this)\n\n    //Textures\n    table = this.add.image(260, 400, 'table')\n    table.setDepth(1)\n    ramps = this.add.image(260, 400, 'ramps')\n    ramps.setDepth(2)\n    rampsCartmanActive =  this.add.image(260, 400, 'ramps_cartman_active')\n    rampsCartmanActive.setDepth(0)\n    characters = this.add.image(260, 400, 'characters')\n    characters.setDepth(4)\n    \n    //Flippers\n    leftFlipper = new LeftFlipper(this, 150, 632) \n    rightFlipper = new RightFlipper(this, 327, 632)\n    sideFlipper = new SideFlipper(this, 407, 313)\n\n    //Pop bumpers\n    bumperA = new Bumper(this, 308, 125, 'bumper')\n    bumperB = new Bumper(this, 365, 135, 'bumper')\n    bumperC = new Bumper(this, 335, 190, 'bumper')\n\n    //Slingshots\n    slingshotA = new Slingshot(this, 121, 490, 152, 574, 177, 510, 5, 'slingshotA')\n    slingshotB = new Slingshot(this, 353, 491, 324, 574, 298, 510, 5, 'slingshotB')\n    // slingshotA = new Slingshot(this, 137, 533, 'rightSlingshot', collisionGroupB)\n    // slingshotB = new Slingshot(this, 340, 533, 'leftSlingshot', collisionGroupB)\n\n    //Launcher\n    launcher = new Launcher(this, 455, 755)\n    \n    //Static Objects\n    /*********************************************************/\n    //StaticCustomShape(scene, x, y, path, collision group)\n    //StaticShape(scene, type, x, y, width, height, rotation, collision group)\n\n    //First level (collision group B)\n    //new StaticCustomShape(this, 218, 90, 'midTargetLeft', collisionGroupB)\n    new StaticCustomShape(this, 250, 740, 'killZone', collisionGroupB).setScale(0.9, 1)\n    new StaticCustomShape(this, 147, 200, 'topLoop', collisionGroupB).setScale(0.85, 0.9)\n    new StaticCustomShape(this, 155, 244, 'leftRampLeft', collisionGroupB).setScale(0.82, 1)\n    new StaticCustomShape(this, 155, 244, 'leftRampLeft', collisionGroupC).setScale(0.82, 1)\n    new StaticCustomShape(this, 152, 134, 'leftLoopTop', collisionGroupB).setAngle(11)\n    new StaticShape(this, 'rectangle', 247, 95, 135, 15, 6.15, collisionGroupB) // top loop\n    new StaticCustomShape(this, 60, 488, 'leftWall', collisionGroupB).setScale(1,1.1)\n    new StaticCustomShape(this, 423, 530, 'rightWallA', collisionGroupB).setScale(1, 1.1).setAngle(-2.2)\n    new StaticCustomShape(this, 405, 320, 'rightWallB', collisionGroupB).setScale(.8, 1)\n    new StaticCustomShape(this, 350, 218, 'rightTrapCowl', collisionGroupB).setScale(0.82, 1) // Butters trap\n    new StaticCustomShape(this, 450, 455, 'farRightWall', collisionGroupB).setAngle(-.5) \n    new StaticCustomShape(this, 365, 593, 'rightLane', collisionGroupB).setScale(0.82, 1)\n    new StaticCustomShape(this, 107, 593, 'leftLane', collisionGroupB).setScale(0.82, 1)\n    new StaticCustomShape(this, 130, 540, 'leftSlingshot', collisionGroupB).setScale(0.82, 1).setCollidesWith(collisionGroupA)\n    new StaticCustomShape(this, 345, 540, 'rightSlingshot', collisionGroupB).setScale(0.82, 1).setCollidesWith(collisionGroupA)\n    new StaticCustomShape(this, 378, 400, 'rightTargets', collisionGroupB).setScale(1, 1)//Randy\n    new StaticShape(this, 'rectangle', 447, 700, 10, 5, 1, collisionGroupB)// Launcher align\n    new StaticShape(this, 'rectangle', 463, 700, 10, 5, -1, collisionGroupB)// Launcher align\n    new StaticShape(this, 'rectangle', 425, 475, 1, 470, -0.08, collisionGroupB)// Launcher lane inner\n    new StaticShape(this, 'rectangle', 415, 187, 10, 150, .15, collisionGroupD)// Launcher lane gate\n    new StaticShape(this, 'rectangle', 55, 506, 10, 200, .08, collisionGroupD)// Left wall\n    new StaticShape(this, 'circle', 310, 64, 10, null, null, collisionGroupE, 'rubber')//Launcher top loop gate\n    new StaticShape(this, 'circle', 385, 488, 5, null, null, collisionGroupB, 'rubber') // Right lane topper\n    new StaticShape(this, 'circle', 86, 488, 5, null, null, collisionGroupB, 'rubber') // Left lane topper\n    new StaticShape(this, 'circle', 407, 451, 5, null, null, collisionGroupB, 'rubber') \n    new StaticShape(this, 'circle', 314, 80, 5, null, null, collisionGroupB, 'rubber')//Top tri-lane\n    new StaticShape(this, 'circle', 341, 76, 5, null, null, collisionGroupB, 'rubber')//Top tri-lane\n    new StaticShape(this, 'circle', 314, 98, 5, null, null, collisionGroupB, 'rubber')//Top tri-lane\n    new StaticShape(this, 'circle', 341, 94, 5, null, null, collisionGroupB, 'rubber')//Top tri-lane\n    new StaticShape(this, 'circle', 375, 98, 5, null, null, collisionGroupB, 'rubber')//Top tri-lane\n    new StaticShape(this, 'circle', 367, 98, 5, null, null, collisionGroupB, 'rubber')//Top tri-lane\n    new StaticShape(this, 'circle', 320, 160, 10, null, null, collisionGroupB, 'rubber') // Bumpers spacer\n    new StaticShape(this, 'circle', 100, 435, 8, null, null, collisionGroupB, 'rubber') // Left lane\n    new StaticShape(this, 'circle', 125, 491, 12, null, null, collisionGroupB, 'rubber') // Slingshot corners\n    new StaticShape(this, 'circle', 350, 491, 12, null, null, collisionGroupB, 'rubber') // \n    new StaticShape(this, 'circle', 148, 575, 8, null, null, collisionGroupB, 'rubber') // \n    new StaticShape(this, 'circle', 326, 575, 8, null, null, collisionGroupB, 'rubber') // \n    cartmanBlock = new StaticShape(this, 'rectangle', 257, 202, 62, 62, .02, collisionGroupB)// Cartman targets\n    new StaticShape(this, 'rectangle', 249, 125, 62, 30, .02, collisionGroupB)// Cartman back center\n    new StaticShape(this, 'rectangle', 219, 160, 82, 10, 1.5, collisionGroupB)// Cartman back left\n    new StaticShape(this, 'rectangle', 283, 159, 82, 10, 1.3, collisionGroupB)// Cartman back right\n    \n    //Second level (collision group C)\n    new StaticCustomShape(this, 147, 10, 'leftRampDiverter', collisionGroupE)\n    new StaticShape(this, 'circle', 144, 45, 23, null, null, collisionGroupD) // Left ramp bottom\n    new StaticCustomShape(this, 65, 500, 'leftLaneBottomLeft', collisionGroupC) // Left Lane bottom L\n    new StaticCustomShape(this, 110, 450, 'leftLaneBottomRight', collisionGroupC) // Left lane bottom R\n    new StaticCustomShape(this, 171, 184, 'leftRampRight', collisionGroupC).setScale(0.7, 1.2)\n    new StaticCustomShape(this, 163, 110, 'rightRampDivider', collisionGroupC).setScale(0.6, 1) // Left / center ramp divider\n    new StaticCustomShape(this, 140, 7, 'leftRampTop', collisionGroupC).setScale(0.8, 1)// Left ramp top\n    new StaticShape(this, 'rectangle', 220, 117, 35, 180, -0.2, collisionGroupC) // Mid ramp right\n    new StaticShape(this, 'circle', 348, 78, 50, null, null, collisionGroupC) //Right ramp bottom\n    new StaticCustomShape(this, 335, 16, 'rightRampTop', collisionGroupC).setScale(0.8, 1) // Right ramp top\n    // new StaticShape(this, 'rectangle', 275, 125, 15, 170, -0.05, collisionGroupC) // Right ramp left\n    new StaticShape(this, 'rectangle', 319, 160, 20, 140, -0.15, collisionGroupC) // Right ramp right\n    new StaticShape(this, 'rectangle', 315, 160, 10, 140, -0.15, collisionGroupB) // Right ramp right\n    new StaticShape(this, 'rectangle', 74, 228, 15, 360, 0.085, collisionGroupC) // Left rail L\n    new StaticShape(this, 'rectangle', 112, 228, 15, 360, 0.095, collisionGroupC) // Left rail R\n    new StaticShape(this, 'rectangle', 113, 511, 15, 25, 1, collisionGroupC) // Left rail termination\n    new StaticShape(this, 'rectangle', 402, 232, 15, 325, -0.08, collisionGroupC) // Right lane L\n    new StaticShape(this, 'rectangle', 445, 228, 15, 340, -0.08, collisionGroupC) // Right lane R\n    new StaticShape(this, 'rectangle', 383, 443, 130, 15, -1, collisionGroupC) // Right lane Bottom L\n    new StaticShape(this, 'rectangle', 427, 450, 160, 15, -1, collisionGroupC) // Right lane Bottom R\n    new StaticShape(this, 'rectangle', 363, 514, 15, 30, -1, collisionGroupC) // Right lane termination\n    \n    //Sensors \n    //constructor(scene, x, y, width, height, rotation, type, name, collisionGroup)\n    //Ramp on\n    new Sensor(this, 165, 235, 30, 20, 1.6, 'ramp-on', 'leftRampOn', sensorGroupA)\n    new Sensor(this, 202, 205, 30, 20, -.1, 'ramp-on', 'centerRampOn', sensorGroupA)\n    new Sensor(this, 303, 200, 30, 20, -.1, 'ramp-on', 'rightRampOn', sensorGroupA)  \n    //Ramp off\n    new Sensor(this, 78, 461, 30, 20, -.50, 'ramp-off', 'leftRampOff', sensorGroupB)  \n    new Sensor(this, 396, 461, 30, 20, .50, 'ramp-off', 'rightRampOff', sensorGroupB) \n    new Sensor(this, 255, 262, 120, 20, 0, 'all-ramps-off', 'allRampsOff', sensorGroupB)  \n    //Ramp hit\n    new Sensor(this, 110, 36, 30, 20, 1.6, 'ramp-hit', 'leftRampHit', sensorGroupB)\n    new Sensor(this, 136, 13, 50, 20, -.1, 'ramp-hit', 'centerRampHit', sensorGroupB)\n    new Sensor(this, 349, 16, 60, 20, -.1, 'ramp-hit', 'rightRampHit', sensorGroupB)  \n    //Loop hit\n    new Sensor(this, 296, 68, 20, 20, 0, 'loop-hit', null, sensorGroupA)\n    //Cartman hit\n    cartmanLeft = new Sensor(this, 257, 226, 18, 20, 0, 'cartman-hit', 'cartman-center', sensorGroupA)\n    cartmanCenter = new Sensor(this, 237, 226, 18, 20, 0, 'cartman-hit', 'cartman-left', sensorGroupA)\n    cartmanRight = new Sensor(this, 277, 226, 18, 20, 0, 'cartman-hit', 'cartman-right', sensorGroupA)\n    new Sensor(this, 249, 153, 40, 10, 0, 'cartman-himself', 'cartman-himself', sensorGroupA) //Cartman himself\n    //Launcher on \n    new Sensor(this, 435, 477, 30, 20, 1.6, 'launcher-on', 'launcherOn', sensorGroupA)\n    //Launcher off\n    new Sensor(this, 349, 100, 80, 20, -.1, 'launcher-off', 'launcherOff', sensorGroupA)\n    //Butters\n    new Sensor(this, 356, 218, 30, 10, .3, 'target', 'butters', sensorGroupA)\n    //Rails \n    new Sensor(this, 107, 47, 30, 20, 0, 'rail', null, sensorGroupB)\n    new Sensor(this, 408, 47, 30, 20, 0, 'rail', null, sensorGroupB)\n\n    //Collision events\n    /*********************************************************/\n    this.matter.world.on('collisionstart', (event, bodyA, bodyB) => \n    {\n        if (bodyB.label === 'Ball') \n        {\n            //Butters target \n            if ( bodyA.label === 'butters' ) \n            {   \n                registerHit(this, bodyA.label, bodyB)\n                addScore('butters')\n                playRandomSound('butters_hit', this)  \n            }\n            //Generic ramp on\n            if (bodyA.type === 'ramp-on')\n            {\n                bodyB.isOnRamp = true\n                bodyB.isOnPlastic = true\n            }            \n            if (bodyA.label === 'leftRampOn')\n            {\n                bodyB.isOnPlastic = true\n            }    \n            if (bodyA.label === 'cartman-himself')\n            {\n                registerHit(this, bodyA.type, bodyA.label)\n            }     \n            if (bodyA.label === 'rightTargets')\n            {\n                registerHit(this, bodyA.label)\n            }     \n        }\n    })\n    this.matter.world.on('collisionend', (event, bodyA, bodyB) => \n    {\n        if (bodyB.label === 'Ball') \n        {\n            //Kenny ramp\n            if (bodyA.label === 'leftRampHit' && !bodyB.isOnCenterRamp)\n            {\n                playRandomSound('kenny_hit', this)\n            }\n            //Stan ramp\n            if (bodyA.label === 'centerRampHit')\n            {\n                playRandomSound('stan_hit', this)\n            }\n            //Kyle ramp\n            if (bodyA.label === 'rightRampHit')\n            {\n                playRandomSound('kyle_hit', this)\n            }\n            //Cartman targets \n            if (bodyA.type === 'cartman-hit')\n            {\n                registerHit(this, bodyA.type, bodyA.label)\n            }\n\n            if (bodyA.label === 'centerRampOn')\n            {\n                bodyB.isOnCenterRamp = true\n            }\n\n            if (bodyA.type === 'loop-hit')\n            {\n                registerHit(this, bodyA.type)\n            }\n\n            //Generic ramp on\n            if (bodyA.type === 'ramp-on')\n            {\n                bodyB.isOnRamp = true\n                bodyB.isOnPlastic = true\n            } \n\n            //Generic ramp off\n            if (bodyA.type === 'ramp-off')\n            {\n                setTimeout(function(){\n                    bodyB.isOnRamp = false\n                    bodyB.isOnCenterRamp = false\n                }, 100)\n            }\n\n            if (bodyA.type === 'all-ramps-off')\n            {\n                bodyB.isOnRamp = false\n                bodyB.isOnCenterRamp = false\n                bodyB.isOnPlastic = false\n            }\n\n            //Launcher on / off\n            if (bodyA.type === 'launcher-on')\n            {\n                bodyB.isOnLauncher = true\n            }\n\n            if (bodyA.type === 'launcher-off')\n            {\n                bodyB.isOnLauncher = false\n            }\n        \n            //Slingshots\n            if (bodyA.label === 'slingshotA')\n            {\n                slingshotA.fire()\n            }\n\n            if (bodyA.label === 'slingshotB')\n            {\n                slingshotB.fire()\n            }\n\n            //Pop bumpers\n            if ( bodyA.label === \"bumper\") \n            {\n                bodyA.gameObject.fire(bodyB.position)\n                addScore('bumper')\n            }\n\n            //Rails \n            if (bodyA.type === 'rail')\n            {\n                this.sound.playAudioSprite('sound_effects', 'WireRamp', {\n                    volume: 0.5\n                })\n                bodyB.isOnPlastic = false\n                addScore('ramp')\n            }\n\n            //Rubbers \n            if (bodyA.label === 'rubber')\n            {\n                let sounds = ['rubber_hit_1', 'rubber_hit_2', 'rubber_hit_3']\n                this.sound.playAudioSprite('sound_effects', sounds[Math.floor(Math.random()*3)])\n            }\n\n            //Flippers \n            if (bodyA.label === 'flipper')\n            {\n                let sounds = ['flip_hit_1', 'flip_hit_2', 'flip_hit_3']\n                this.sound.playAudioSprite('sound_effects', sounds[Math.floor(Math.random()*sounds.length)])\n            }\n        }\n    })\n\n    //Hit registration\n\n    function registerHit(scene, bodyA, bodyB) {\n        switch(bodyA)\n        {\n            case \"butters\" :\n                scene.sound.playAudioSprite('sound_effects', 'hole_enter')\n                bodyB.render.visible = false\n                bodyB.isDestroyed = true\n                bodyB.destroy()\n                //Holds the ball for 3 seconds and shoots back to left flipper\n                setTimeout(()=>\n                {\n                    ball = new Ball(scene, 340, 259, 'ball') \n                    ball.setVelocityY(3.3)\n                    ball.setVelocityX(-3.3)\n                    scene.sound.playAudioSprite('sound_effects', 'ExitSandman')\n                }, 3000)     \n                break     \n\n            case \"cartman-hit\" :\n                if (!objectives[bodyB] && bodyB != 'cartman-himself')\n                {\n                    objectives[bodyB]++\n                    scene.sound.playAudioSprite('sound_effects', 'target')\n                } \n                break          \n            \n            case \"cartman-himself\" :\n                objectives[bodyB]++\n                playRandomSound('cartman_damage', scene)\n                scene.sound.playAudioSprite('sound_effects', 'rubber_hit_2')\n                break\n\n            case \"rightTargets\" :\n                console.log('asdad')\n                playRandomSound('randy_hit', scene)\n                scene.sound.playAudioSprite('sound_effects', 'rubber_hit_1')    \n                addScore('randy')\n                break\n            \n            case \"loop-hit\" :\n                playRandomSound('loop_hit', scene)\n                addScore('loop')\n                objectives[bodyA]++\n                console.log(objectives)\n        }\n    }\n}\n\n//Update\n\nfunction update() {\n\n    if(Phaser.Input.Keyboard.JustDown(spacebar))\n    {\n        ball = new Ball(this, 416, 773, 'ball') \n        ball.launch()\n    }\n    \n    if (Phaser.Input.Keyboard.JustDown(left))\n    {\n        leftFlipper.flip() \n    } \n    \n    if (Phaser.Input.Keyboard.JustUp(left))\n    {\n        leftFlipper.release()\n    } \n\n    if (Phaser.Input.Keyboard.JustDown(right))\n    {\n        rightFlipper.flip()\n        sideFlipper.flip()\n    } \n\n    if (Phaser.Input.Keyboard.JustUp(right))\n    {\n        rightFlipper.release()\n        sideFlipper.release()\n    } \n\n    if (Phaser.Input.Keyboard.JustDown(down))\n    {\n        launcher.charge()\n    }\n\n    if (Phaser.Input.Keyboard.JustUp(down))\n    {\n        launcher.fire()\n    }\n\n    //Round is over when no balls are in play\n    if (balls.length === 0)\n    {\n        //If there are still balls left and a game running, load another ball\n        if ( currentBall < 4 && gameActive)\n        {\n            getNewBall(this)\n        }\n        //Otherwise the game is over\n        else\n        { \n            gameActive = false\n        }\n    }\n\n    //Events\n    if (objectives['cartman-left'] && objectives['cartman-center'] && objectives['cartman-right'])\n    {\n        startEvent('cartman', this)\n    }\n} \n\nfunction newGame(scene)\n{\n    gameActive = true\n    score = 0\n    multiplier = 1\n    backgroundMusic = scene.sound.add('background_music')\n    getNewBall(scene)\n}\n\nfunction endGame()\n{\n    console.log('game over')\n    score = 0\n}\n\nfunction getNewBall(scene)\n{\n    backgroundMusic.pause()\n    ball = new Ball(scene, 455, 689, 'ball') \n    scene.sound.playAudioSprite('sound_effects', \"rollover\")\n        currentBall++\n        document.querySelector('.balls-remaining').textContent = currentBall\n}\n\nfunction addScore(name)\n{\n    let amount\n    switch(name)\n    {\n        case \"bumper\" : amount = 1000 \n            break\n        case \"butters\" : amount = 10000\n            break\n        case \"ramp\" : amount = 5000\n            break\n        case \"cartman-win\" : amount = 100000\n            break\n        case \"randy\" : amount = 2500\n            break\n        case \"loop\" : amount = 10000\n            break\n    }\n    let total = amount * multiplier\n    score += total\n    document.querySelector('.score').textContent = score\n}\n\nfunction playRandomSound(sprite, scene, delay)\n{\n    let spritemap = Object.keys(scene.cache.json.get(sprite).spritemap)\n    setTimeout(()=>\n    {\n        scene.sound.playAudioSprite(sprite, spritemap[Math.floor(Math.random()*spritemap.length)])\n    }, delay)\n}\n\n\n"],"file":"game.js"}