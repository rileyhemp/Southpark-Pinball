{"version":3,"sources":["game.js"],"names":["Ball","scene","x","y","texture","matter","world","body","friction","frictionAir","sys","displayList","add","setCollisionCategory","collisionGroupA","density","setDepth","label","killZoneCheck","i","setInterval","destroy","clearInterval","Phaser","Physics","Matter","Image","StaticShape","name","setStatic","StaticCustomShape","setExistingBody","Bodies","fromVertices","PATHS","setCollidesWith","Bumper","setCircle","mass","restitution","console","log","position","startPosition","targetX","targetY","tweens","targets","yoyo","duration","setTimeout","Pill","chamfer","config","type","CANVAS","width","height","physics","default","debug","gravity","preload","create","update","balls","spacebar","left","right","ball","bounds","leftFlipper","rightFlipper","dome","bottomFrame","center","wallRight","wallRightInner","chuteLeft","chuteRight","bumperLeft","bumperRight","ballStashInner","ballStashOuter","pillA","pillB","pillC","pillD","bumperA","bumperB","bumperC","rightWall","rightDivider","leftDivider","rightTrapDoor","slingshotA","slingshotB","playfield","plastics","collisionGroupB","collisionGroupC","test","tween","game","Game","load","image","nextCategory","setBounds","input","keyboard","addKey","Input","Keyboard","KeyCodes","LEFT","RIGHT","SPACE","on","pointer","LeftFlipper","RightFlipper","setScale","rotation","Slingshot","canCallA","canCallB","canCallC","event","bodyA","bodyB","fire","hold","JustDown","launch","flip","isFlipping","JustUp"],"mappings":"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","sourcesContent":["\r\n\r\nclass Ball extends Phaser.Physics.Matter.Image {\r\n    constructor(scene, x, y, texture) {\r\n        super(scene.matter.world, x, y, texture)\r\n        super.setScale(.2) \r\n        super.setCircle(8.75)\r\n         this.body.friction = 0\r\n        this.body.frictionAir = 0.00001\r\n        scene.sys.displayList.add(this)\r\n        this.setCollisionCategory(collisionGroupA)\r\n        this.body.density = 0.5 \r\n        this.setDepth(1)\r\n        this.body.label = 'Ball'\r\n        this.killZoneCheck()\r\n    }\r\n    launch(){\r\n        super.setVelocityY(-20.5)\r\n    }\r\n    killZoneCheck(){\r\n        let i = setInterval(()=>{\r\n            if (this.y > 800){\r\n                this.destroy()\r\n                clearInterval(i)\r\n            }\r\n        }, 100)\r\n    }\r\n}\r\n\r\nclass StaticShape extends Phaser.Physics.Matter.Image {\r\n    constructor(scene, x, y, name){\r\n        super(scene.matter.world, x, y, name)\r\n        scene.sys.displayList.add(this) \r\n        this.setStatic(true)\r\n    }\r\n}\r\n\r\nclass StaticCustomShape extends StaticShape {\r\n    constructor(scene, x, y, name){\r\n        super(scene, x, y, name)\r\n        this.setExistingBody(Bodies.fromVertices(0,0, PATHS[`${name}`]))\r\n        this.setStatic(true)\r\n        this.x = x\r\n        this.y = y\r\n        this.setCollidesWith(collisionGroupA)\r\n    }\r\n}\r\n\r\nclass Bumper extends StaticShape {\r\n    constructor(scene, x, y, name){\r\n        super(scene, x, y, name)\r\n        this.setCircle(26)\r\n        this.setStatic(true)\r\n        this.body.mass = .999\r\n        this.x = x\r\n        this.y = y\r\n        this.body.label = name\r\n        this.scene = scene\r\n        this.body.restitution = 1.5\r\n        console.log(this)\r\n    }\r\n    fire(position){\r\n        //Grab the starting position\r\n        let startPosition = {\r\n            x: this.x,\r\n            y: this.y\r\n        }\r\n        //Calculate the midpoint between the ball and bumper\r\n        let targetX = (this.x + position.x) / 2\r\n        let targetY = (this.y + position.y) / 2\r\n\r\n        //Tween to that point\r\n        this.scene.tweens.add({\r\n            targets: this,\r\n            x: targetX,\r\n            y: targetY,\r\n            yoyo: true,\r\n            duration: 10\r\n        })\r\n        //Reset the bumper after a brief delay\r\n        setTimeout(()=>{\r\n            this.x = startPosition.x\r\n            this.y = startPosition.y\r\n        }, 50)\r\n    }\r\n}\r\n\r\nclass Pill extends StaticShape {\r\n    constructor(scene, x, y, name){\r\n        super(scene, x, y, name)\r\n        this.chamfer = 10\r\n    }\r\n}\r\n\r\n\r\nconst config = {\r\n    type: Phaser.CANVAS,\r\n    width: 440,\r\n    height: 875,\r\n    physics: {\r\n        default: 'matter',\r\n        matter: {\r\n            debug: true,\r\n            gravity: {\r\n                x: 0,\r\n                y: 0.35\r\n            }\r\n        }\r\n    },\r\n    scene: {\r\n        preload: preload, \r\n        create: create,\r\n        update: update \r\n    }\r\n}\r\n\r\nconst Bodies = Phaser.Physics.Matter.Matter.Bodies\r\n\r\nlet \r\n    balls, \r\n    spacebar, \r\n    left,\r\n    right,\r\n    ball, \r\n    bounds, \r\n    leftFlipper, \r\n    rightFlipper, \r\n\r\n    //Static Objects\r\n    dome, bottomFrame,\r\n    center,\r\n    wallRight, wallRightInner,\r\n    chuteLeft, chuteRight,\r\n    bumperLeft, bumperRight,\r\n    ballStashInner, ballStashOuter,\r\n    pillA, pillB, pillC, pillD,\r\n    bumperA, bumperB, bumperC, \r\n    rightWall,\r\n    rightDivider,\r\n    leftDivider,\r\n    rightTrapDoor, \r\n    slingshotA, slingshotB,\r\n\r\n    //Background\r\n    playfield,\r\n    plastics,\r\n\r\n    //Utilities\r\n    collisionGroupA,\r\n    collisionGroupB,\r\n    collisionGroupC,\r\n    test,\r\n    tween\r\n    \r\nconst game = new Phaser.Game(config)\r\n\r\nfunction preload() {\r\n    this.load.image('ball', 'dist/assets/sprites/wizball.png')\r\n    this.load.image('rectA', 'dist/assets/solids/grey-solid.svg')\r\n    this.load.image('schematic', 'dist/assets/schematic.jpg')\r\n    this.load.image('blueprint', 'dist/assets/blueprint.png')\r\n    this.load.image('plastics', 'dist/assets/Plasticos.png')\r\n    this.load.image('playfield', 'dist/assets/Playfield.png')\r\n}\r\n\r\n//***************************************************************************************//\r\n\r\nfunction create() {\r\n\r\n    //Set some things up, inputs, collisiongroups, etc. \r\n    collisionGroupA = this.matter.world.nextCategory()\r\n    collisionGroupB = this.matter.world.nextCategory()\r\n    collisionGroupC = this.matter.world.nextCategory()\r\n    test = this\r\n    bounds = this.matter.world.setBounds(0, 0, 440, 875, 30, true, true, true, true)\r\n    left = this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.LEFT)\r\n    right = this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.RIGHT)\r\n    spacebar = this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.SPACE)\r\n    \r\n    //Add a ball where you click\r\n    this.input.on('pointerdown', function(pointer){\r\n        ball = new Ball(this, pointer.x, pointer.y, 'ball') \r\n        console.log(pointer.x + ',', pointer.y)\r\n    }, this)\r\n\r\n    \r\n    //Layout overlay\r\n    // let blueprint = this.add.image(220,437.5, 'blueprint')\r\n    // blueprint.setScale(0.9)\r\n    \r\n    \r\n    // playfield = this.add.image(220, 445, 'playfield')\r\n    // playfield.setScale(0.21)\r\n    // playfield.setDepth(1)\r\n    \r\n    // plastics = this.add.image(220, 445, 'plastics')\r\n    // plastics.setScale(0.21)\r\n    // plastics.setDepth(1)\r\n    \r\n    //Add the flippers\r\n    leftFlipper = new LeftFlipper(this, 118, 725)\r\n    rightFlipper = new RightFlipper(this, 274, 725)\r\n    \r\n    //Place static objects\r\n    \r\n    dome = new StaticCustomShape(this, 250, 250, 'dome')\r\n    bottomFrame = new StaticCustomShape(this, 210, 830, 'bottomFrame')\r\n    \r\n    center = new StaticCustomShape(this, 197, 275, 'center')\r\n    center.restitution = 0.5\r\n    \r\n    wallRight = new StaticCustomShape(this, 372, 315, 'wallRight')\r\n    wallRightInner = new StaticCustomShape(this, 312, 170, 'wallRightInner')\r\n    \r\n    ballStashInner = new StaticCustomShape(this, 107, 130, 'ballStashInner')\r\n    ballStashOuter = new StaticCustomShape(this, 72, 150, 'ballStashOuter')\r\n    \r\n    chuteLeft = new StaticCustomShape(this, 80, 705, 'chuteLeft')\r\n    chuteRight = new StaticCustomShape(this, 315, 705, 'chuteRight')\r\n    \r\n    bumperLeft = new StaticCustomShape(this, 90, 635, 'bumperLeft')\r\n    bumperRight = new StaticCustomShape(this, 305, 625, 'bumperRight')\r\n    \r\n    pillA = new StaticCustomShape(this, 130, 125, 'pill')\r\n    pillB = new StaticCustomShape(this, 175, 125, 'pill')\r\n    pillC = new StaticCustomShape(this, 220, 125, 'pill')\r\n    pillD = new StaticCustomShape(this, 265, 125, 'pill')\r\n    \r\n    bumperA = new Bumper(this, 124, 178, 'bumperA')\r\n    bumperB = new Bumper(this, 200, 243, 'bumperB')\r\n    bumperC = new Bumper(this, 307, 220, 'bumperC')\r\n    \r\n    \r\n    rightWall = this.matter.add.image(398, 630, 'rectA').setScale(0.05, 5.4).setStatic(true)\r\n    \r\n    leftDivider = this.matter.add.image(40, 630, 'rectA').setScale(0.01, 1.7).setStatic(true)\r\n    rightDivider = this.matter.add.image(352, 600, 'rectA').setScale(0.01, 1).setStatic(true)\r\n    \r\n    rightTrapDoor = this.matter.add.image(365, 660, 'rectA').setScale(0.01, .9)\r\n    rightTrapDoor.rotation = .8\r\n    rightTrapDoor.setStatic(true)\r\n    \r\n    slingshotA = new Slingshot(this, 78, 577, 121, 681, 132, 613, 9)\r\n    slingshotB = new Slingshot(this, 280, 667, 313, 567, 260, 607, 9)\r\n    \r\n    //Setup collision events\r\n    //Change to one <------------\r\n    let canCallA = true\r\n    let canCallB = true\r\n    let canCallC = true\r\n    this.matter.world.on('collisionstart', function(event, bodyA, bodyB){\r\n\r\n        if (bodyB.label === 'Ball' && bodyA.label === 'Slingshot'){\r\n            slingshotA.fire()\r\n            slingshotB.fire()\r\n        }\r\n        //Change to one <------------------\r\n        if ( bodyA.label === \"bumperA\" && bodyB.label  === 'Ball' && canCallA) {\r\n            canCallA = false\r\n            bumperA.fire(bodyB.position, \"bumperA\")\r\n            setTimeout(()=>{\r\n                canCallA = true\r\n            }, 100)\r\n        }\r\n        if ( bodyA.label === \"bumperB\" && bodyB.label  === 'Ball' && canCallB) {\r\n            canCallB = false\r\n            bumperB.fire(bodyB.position, \"bumperB\")\r\n            setTimeout(()=>{\r\n                canCallB = true\r\n            }, 100)\r\n        }\r\n        if ( bodyA.label === \"bumperC\" && bodyB.label  === 'Ball' && canCallC) {\r\n            canCallC = false\r\n            bumperC.fire(bodyB.position, \"bumperC\")\r\n            setTimeout(()=>{\r\n                canCallC = true\r\n            }, 100)\r\n        }\r\n    })\r\n// console.log(bumperA)\r\n// bumperA.setScale(1.5)\r\n    \r\n//     tween = this.tweens.add({\r\n//         targets: bumperA,\r\n//         x: '+=50',\r\n//         duration: 1000\r\n//     })\r\n\r\n\r\n\r\n\r\n\r\n\r\n}\r\n\r\nfunction update() {\r\n    \r\n    leftFlipper.hold()\r\n    rightFlipper.hold()\r\n    \r\n    if(Phaser.Input.Keyboard.JustDown(spacebar)){\r\n        ball = new Ball(this, 416, 773, 'ball') \r\n        ball.launch()\r\n    }\r\n    \r\n    if (Phaser.Input.Keyboard.JustDown(left)){\r\n        leftFlipper.flip() \r\n        leftFlipper.isFlipping = true\r\n    } \r\n    \r\n    if (Phaser.Input.Keyboard.JustUp(left)){\r\n        leftFlipper.isFlipping = false\r\n    } \r\n\r\n    if (Phaser.Input.Keyboard.JustDown(right)){\r\n        rightFlipper.flip()\r\n        rightFlipper.isFlipping = true\r\n    } \r\n\r\n    if (Phaser.Input.Keyboard.JustUp(right)){\r\n        rightFlipper.isFlipping = false\r\n    } \r\n\r\n\r\n    \r\n\r\n\r\n} \r\n\r\n\r\n\r\n\r\n\r\n///The base of the flipper is a 15mm diameter circle, sloping down to a 5mm diameter circle at the tip. Overall length is 71mm, \r\n\r\n\r\n\r\n/*\r\n\r\nvar config = {\r\n    type: Phaser.AUTO,\r\n    width: 800,\r\n    height: 600,\r\n    backgroundColor: '#000000',\r\n    parent: 'phaser-example',\r\n    physics: {\r\n        default: 'matter',\r\n        matter: {\r\n            gravity: {\r\n                y: 0.8\r\n            },\r\n            debug: true,\r\n            debugBodyColor: 0xffffff\r\n        }\r\n    },\r\n    scene: {\r\n        create: create\r\n    }\r\n};\r\n\r\nvar bridge = ''\r\n\r\nvar game = new Phaser.Game(config);\r\n\r\nfunction create ()\r\n{\r\n    this.matter.world.setBounds();\r\n\r\n    this.matter.add.mouseSpring();\r\n\r\n    var group = this.matter.world.nextGroup(true);\r\n\r\n    var bridge = this.matter.add.stack(160, 290, 15, 1, 0, 0, function(x, y) {\r\n        return Phaser.Physics.Matter.Matter.Bodies.rectangle(x - 20, y, 53, 20, { \r\n            collisionFilter: { group: group },\r\n            chamfer: 5,\r\n            density: 0.005,\r\n            frictionAir: 0.05\r\n        });\r\n    });\r\n    \r\n    var myChain = this.matter.add.chain(bridge, 0.1, 0, -0.1, 0, {\r\n        stiffness: 1,\r\n        length: 0,\r\n        render: {\r\n            visible: false\r\n        }\r\n    });\r\n\r\n    this.input.on('pointerdown', function(){\r\n    myChain.bodies[8].force = {\r\n        x: 0,\r\n        y: -10\r\n    }\r\n    })\r\n\r\n    console.log(myChain)\r\n    \r\n\r\n    this.matter.add.worldConstraint(bridge.bodies[0], 2, 0.9, {\r\n        pointA: { x: 140, y: 300 }, \r\n        pointB: { x: -25, y: 0 }\r\n    });\r\n\r\n    this.matter.add.worldConstraint(bridge.bodies[bridge.bodies.length - 1], 2, 0.9, {\r\n        pointA: { x: 660, y: 300 }, \r\n        pointB: { x: 25, y: 0 }\r\n    });\r\n}\r\n\r\n\r\n*/"],"file":"game.js"}