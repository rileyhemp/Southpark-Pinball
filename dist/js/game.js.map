{"version":3,"sources":["game.js"],"names":["Ball","scene","x","y","texture","matter","world","sys","displayList","add","Phaser","Physics","Matter","Image","Bumper","Sprite","config","type","AUTO","width","height","physics","default","debug","preload","create","update","Bodies","flipperLength","balls","spacebar","left","right","ball","bounds","leftFlipper","leftBlock","leftPivot","leftFlipperPin","rightFlipper","rightBlock","rightPivot","rightFlipperPin","leftApron","rightApron","createBall","leftFlipperActive","dome","apronLeft","apronRight","apronBottom","bouncer","bumperRight","fixtureTopLeft","hsBottom","hsTop","triPegLeft","triPegRight","wallLowLeft","wallTopLeft","wallTopRight","wallTopRightInner","game","Game","load","image","setBounds","setGravity","input","keyboard","addKey","Input","Keyboard","KeyCodes","LEFT","RIGHT","SPACE","schematic","scale","setFrictionStatic","setMass","setFrictionAir","setBounce","isStatic","scaleX","scaleY","rotation","setScale","setCircle","setStatic","rectA","rectangle","circleA","circle","mass","circleB","Body","parts","setExistingBody","constraint","stiffness","length","pointA","pointB","rectB","circleC","circleD","fromVertices","PATHS","JustDown","torque","JustUp","angle"],"mappings":"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","sourcesContent":["class Ball extends Phaser.Physics.Matter.Image {\r\n    constructor(scene, x, y, texture) {\r\n        super(scene.matter.world, x, y, texture)\r\n        super.setScale(.17)\r\n        super.setCircle(8.657)\r\n        scene.sys.displayList.add(this)\r\n    }\r\n    launch(){\r\n        super.setVelocityY(-30)\r\n    }\r\n}\r\n\r\nclass Bumper extends Phaser.Physics.Matter.Sprite {\r\n    constructor(scene, x, y, texture){\r\n        super(scene.matter.world, x, y, texture)\r\n        super.setStatic(true)\r\n        scene.sys.displayList.add(this)\r\n    }\r\n}\r\n\r\nconst config = {\r\n    type: Phaser.AUTO,\r\n    width: 440,\r\n    height: 800,\r\n    physics: {\r\n        default: 'matter',\r\n        matter: {\r\n            debug: true\r\n        }\r\n    },\r\n    scene: {\r\n        preload: preload, \r\n        create: create,\r\n        update: update \r\n    }\r\n}\r\n\r\nconst Bodies = Phaser.Physics.Matter.Matter.Bodies\r\n\r\nconst flipperLength = 65\r\n\r\nlet \r\n    balls, \r\n    spacebar, \r\n    left,\r\n    right,\r\n    ball, \r\n    bounds, \r\n    leftFlipper, \r\n    leftBlock, \r\n    leftPivot, \r\n    leftFlipperPin, \r\n    rightFlipper, \r\n    rightBlock, \r\n    rightPivot, \r\n    rightFlipperPin,\r\n    leftApron,\r\n    rightApron,\r\n    createBall,\r\n    leftFlipperActive,\r\n    dome,\r\n    apronLeft,\r\n    apronRight,\r\n    apronBottom,\r\n    bouncer,\r\n    bumperRight,\r\n    fixtureTopLeft,\r\n    hsBottom,\r\n    hsTop,\r\n    triPegLeft,\r\n    triPegRight,\r\n    wallLowLeft,\r\n    wallTopLeft,\r\n    wallTopRight,\r\n    wallTopRightInner\r\n\r\nconst game = new Phaser.Game(config)\r\n\r\n\r\n\r\nfunction preload() {\r\n    this.load.image('ball', 'dist/assets/sprites/wizball.png')\r\n    this.load.image('rectA', 'dist/assets/solids/grey-solid.svg')\r\n    this.load.image('schematic', 'dist/assets/schematic.jpg')\r\n    this.load.image('dome', 'dist/assets/textures/Dome.png')\r\n}\r\n\r\n\r\n//***************************************************************************************//\r\n\r\n\r\nfunction create() {\r\n\r\n    //Set world bounds\r\n    bounds = this.matter.world.setBounds(0, 0, 440, 800, 30, true, true, true, true)\r\n\r\n    //Set gravity\r\n    this.matter.world.setGravity(0,.35)\r\n\r\n    //Define inputs\r\n    left = this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.LEFT)\r\n    right = this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.RIGHT)\r\n    spacebar = this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.SPACE)\r\n    \r\n    //Layout overlay\r\n    let schematic = this.add.image(220,400, 'schematic')\r\n    schematic.scale = 0.8\r\n    \r\n    //Create the ball\r\n    ball = new Ball(this, 100, 625, 'ball') \r\n    ball.setFrictionStatic(0)\r\n    ball.setMass(.1)\r\n    ball.setFrictionAir(0)\r\n    ball.setBounce(0.05)\r\n    \r\n    //Left flipper mechanism\r\n    \r\n    //Create bottom block to stop flipper from going too low\r\n    leftBlock = this.matter.add.image(170,727 ,'rectA', this, {\r\n        isStatic: true\r\n    })\r\n    leftBlock.scaleX = .1,\r\n    leftBlock.scaleY = .1,\r\n    leftBlock.rotation = .55\r\n    \r\n    //Create a pivot point to attach the constraint to\r\n    leftPivot = this.matter.add.image(145, 695, null, this)\r\n    leftPivot.setScale(.2)\r\n    leftPivot.setCircle(1)\r\n    leftPivot.setStatic(true)\r\n\r\n    //Create the left flipper components \r\n    let rectA = Bodies.rectangle(166 , 700, flipperLength, 16)\r\n    let circleA = Bodies.circle(150, 699, 5)\r\n    circleA.mass = 2\r\n    let circleB = Bodies.circle(188, 695, 4)\r\n\r\n    //Merge left flipper components\r\n    leftFlipper = Phaser.Physics.Matter.Matter.Body.create({\r\n        parts: [ circleA, circleB, rectA  ]\r\n    });\r\n    this.matter.add.image(150, 0, null).setScale(0.2).setExistingBody(leftFlipper)\r\n\r\n    //Add the pivot constraint\r\n    leftFlipperPin = this.matter.add.constraint(leftPivot, leftFlipper)    \r\n    leftFlipperPin.stiffness = .9\r\n    leftFlipperPin.length = 0\r\n    leftFlipperPin.pointA = {\r\n        x: 5, \r\n        y: 5\r\n    }\r\n    leftFlipperPin.pointB = {\r\n        x: -15, \r\n        y: 0\r\n    }\r\n\r\n    //Right flipper mechanism\r\n    \r\n    //Create bottom block to stop flipper from going too low\r\n    rightBlock = this.matter.add.image(260,727 ,'rectA', this, {\r\n        isStatic: true\r\n    })\r\n    rightBlock.scaleX = .1,\r\n    rightBlock.scaleY = .1,\r\n    rightBlock.rotation = -.55\r\n    //345 286\r\n    //Create a pivot point to attach the flipper to\r\n    rightPivot = this.matter.add.image(286, 695, null, this)\r\n    rightPivot.setScale(.2)\r\n    rightPivot.setCircle(1)\r\n    rightPivot.setStatic(true)\r\n \r\n    //Create the right flipper components \r\n    let rectB = Bodies.rectangle(254 , 700, flipperLength, 16)\r\n    let circleC = Bodies.circle(270, 699, 5)\r\n    circleC.mass = 2\r\n    let circleD = Bodies.circle(229, 695, 4)\r\n\r\n    \r\n    //Create right flipper compound body\r\n    rightFlipper = Phaser.Physics.Matter.Matter.Body.create({\r\n        parts: [ circleC, circleD, rectB  ]\r\n    });\r\n    this.matter.add.image(350, 0, null).setScale(0.2).setExistingBody(rightFlipper)\r\n\r\n    //Add the pivot constraint\r\n    rightFlipperPin = this.matter.add.constraint(rightPivot, rightFlipper)    \r\n    rightFlipperPin.stiffness = .9\r\n    rightFlipperPin.length = 0\r\n    rightFlipperPin.pointA = {\r\n        x: -5, \r\n        y: 5\r\n    }\r\n    rightFlipperPin.pointB = {\r\n        x: 15, \r\n        y: 0\r\n    }\r\n\r\n    //Increase mass of the flippers\r\n    leftFlipper.mass = 50\r\n\r\n    //Place static objects\r\n    dome = this.matter.add.image(0, 0, 'dome')\r\n    dome.setExistingBody(Bodies.fromVertices(220,180, PATHS.dome))\r\n    dome.setStatic(true)\r\n\r\n    apronLeft = this.matter.add.image(0, 0, 'apronLeft')\r\n    apronLeft.setExistingBody(Bodies.fromVertices(71,630, PATHS.apronLeft))\r\n    apronLeft.setStatic(true)\r\n\r\n    apronRight = this.matter.add.image(0, 0, 'apronRight')\r\n    apronRight.setExistingBody(Bodies.fromVertices(340,654, PATHS.apronRight))\r\n    apronRight.setStatic(true)\r\n}\r\n\r\nfunction update() {\r\n    \r\n    if(Phaser.Input.Keyboard.JustDown(spacebar)){\r\n        ball = new Ball(this, 100, 625, 'ball') \r\n        ball.setFrictionStatic(0.02)\r\n        ball.setMass(.25)\r\n        ball.setFrictionAir(0)\r\n    }\r\n\r\n    //Input control of left flipper\r\n    if (Phaser.Input.Keyboard.JustDown(left)){\r\n        leftFlipperActive = true\r\n        leftFlipper.torque = -3\r\n    } \r\n    \r\n    if (Phaser.Input.Keyboard.JustUp(left)){\r\n        leftFlipperActive = false\r\n    } \r\n    //Apply torque in opposite direction after left flipper reaches max angle\r\n    if( leftFlipper.angle <= -.5){\r\n        leftFlipper.torque = 1\r\n    } \r\n\r\n    //Input control of right flipper\r\n    if (Phaser.Input.Keyboard.JustDown(right)){\r\n        rightFlipper.torque = 3\r\n    } \r\n    //Apply torque in opposite direction after right flipper reaches max angle\r\n    if(rightFlipper.angle >= .5 ){\r\n         rightFlipper.torque = -1\r\n     } \r\n    \r\n    //This function lowers the gravity when the ball is going up and raises it on the way down.\r\n    // if(ball.body.velocity.y < 0){\r\n    //     this.matter.world.setGravity(0,0.35)\r\n    // } else {\r\n    //     this.matter.world.setGravity(0,.35)\r\n    // }\r\n\r\n} \r\n\r\n\r\n\r\n\r\n\r\n///The base of the flipper is a 15mm diameter circle, sloping down to a 5mm diameter circle at the tip. Overall length is 71mm, "],"file":"game.js"}