{"version":3,"sources":["game.js"],"names":["config","type","Phaser","CANVAS","width","height","physics","default","matter","debug","gravity","x","y","scene","preload","create","update","Bodies","Physics","Matter","balls","spacebar","left","right","shift","ball","bounds","leftFlipper","rightFlipper","sideFlipper","testShape","bumperA","bumperB","bumperC","slingshotA","slingshotB","playfield","plastics","table","ramps","characters","collisionGroupA","collisionGroupB","collisionGroupC","collisionGroupD","collisionGroupE","sensorGroupA","sensorGroupB","leftRampDivert","leftRampDiverter","leftRampBottom","flipperCollisionGroup","test","tween","testFlipper","game","Game","load","image","world","nextCategory","setBounds","input","keyboard","addKey","Input","Keyboard","KeyCodes","LEFT","SHIFT","RIGHT","SPACE","on","pointer","Ball","console","log","vertices","value","push","add","setDepth","LeftFlipper","RightFlipper","Bumper","Slingshot","StaticCustomShape","setScale","setAngle","setCollidesWith","StaticShape","Sensor","event","bodyA","bodyB","label","isSensor","isOnRamp","setTimeout","fire","gameObject","position","JustDown","launch","flip","JustUp","release"],"mappings":"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","sourcesContent":["\r\n//Initial config\r\n\r\nconst config = {\r\n    type: Phaser.CANVAS,\r\n    width: 520,\r\n    height: 800,\r\n    physics: {\r\n        default: 'matter',\r\n        matter: {\r\n            debug: true,\r\n            gravity: {\r\n                x: 0,\r\n                y: .9\r\n            }\r\n        }\r\n    },\r\n    scene: {\r\n        preload: preload, \r\n        create: create,\r\n        update: update \r\n    }\r\n}\r\n\r\n//Declare global variables \r\n\r\nconst Bodies = Phaser.Physics.Matter.Matter.Bodies\r\n\r\nlet balls = []\r\n\r\nlet \r\n    spacebar, \r\n    left,\r\n    right,\r\n    shift,\r\n    ball, \r\n    bounds, \r\n    leftFlipper, \r\n    rightFlipper, \r\n    sideFlipper,\r\n    testShape,\r\n    bumperA, bumperB, bumperC,\r\n    slingshotA, slingshotB,\r\n\r\n    //Background\r\n    playfield,\r\n    plastics,\r\n    table,\r\n    ramps,\r\n    characters,\r\n\r\n    //Utilities\r\n    collisionGroupA, collisionGroupB, collisionGroupC, collisionGroupD, collisionGroupE,\r\n    sensorGroupA, sensorGroupB,\r\n    leftRampDivert, // Default: false\r\n    leftRampDiverter, \r\n    leftRampBottom,\r\n    flipperCollisionGroup,\r\n    test,\r\n    tween,\r\n    testFlipper\r\n    \r\nconst game = new Phaser.Game(config)\r\n\r\n//Load assets\r\n\r\nfunction preload() {\r\n    \r\n    this.load.image('rectA', 'dist/assets/solids/grey-solid.svg')\r\n    this.load.image('schematic', 'dist/assets/schematic.jpg')\r\n    this.load.image('blueprint', 'dist/assets/blueprint.png')\r\n    this.load.image('plastics', 'dist/assets/Plasticos.png')\r\n    this.load.image('playfield', 'dist/assets/Playfield.png')\r\n    this.load.image('render', 'dist/assets/render.png')\r\n    this.load.image('characters', 'dist/assets/table/characters.png')\r\n    this.load.image('ramps', 'dist/assets/table/ramps.png')\r\n    this.load.image('table', 'dist/assets/table/table.png')\r\n    this.load.image('ball', 'dist/assets/table/ball.png')\r\n}\r\n\r\n//Initialize table\r\n\r\nfunction create() {\r\n\r\n    //Set some things up, inputs, collisiongroups, etc. \r\n    sensorGroupA = this.matter.world.nextCategory() // Ground level sensors\r\n    sensorGroupB = this.matter.world.nextCategory() // Upper level sensors\r\n    collisionGroupA = this.matter.world.nextCategory() // Ball\r\n    collisionGroupB = this.matter.world.nextCategory() // Walls\r\n    collisionGroupC = this.matter.world.nextCategory()\r\n    collisionGroupD = this.matter.world.nextCategory()\r\n    collisionGroupE = this.matter.world.nextCategory()\r\n    flipperCollisionGroup = this.matter.world.nextCategory()\r\n    leftRampDivert = false\r\n\r\n    test = this\r\n    bounds = this.matter.world.setBounds(0, 0, 520, 800, 30, true, true, true, true)\r\n    left = this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.LEFT)\r\n    shift = this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.SHIFT)\r\n    right = this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.RIGHT)\r\n    spacebar = this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.SPACE)\r\n    \r\n\r\n    //Utility functions\r\n\r\n    //Add a ball where you click\r\n    this.input.on('pointerdown', function(pointer){\r\n        ball = new Ball(this, pointer.x, pointer.y, 'ball') \r\n        console.log(pointer.x, ',', pointer.y)\r\n    }, this)\r\n\r\n    //Creates paths used to draw physics shapes. \r\n    let vertices = []\r\n    this.input.on('pointerdown', function(pointer){\r\n        let value = {\r\n            x: pointer.x,\r\n            y: pointer.y\r\n        }\r\n        vertices.push(value)\r\n        console.log(vertices)\r\n    }, this)\r\n    \r\n\r\n    \r\n    //Layout overlay\r\n    //let blueprint = this.add.image(260,400, 'blueprint')\r\n    \r\n    // playfield = this.add.image(260, 390, 'render')\r\n    // playfield.setScale(1)\r\n    // playfield.setDepth(1)\r\n\r\n    // table = this.add.image(260, 400, 'table')\r\n    // table.setDepth(1)\r\n    ramps = this.add.image(260, 400, 'ramps')\r\n    ramps.setDepth(2)\r\n    characters = this.add.image(260, 400, 'characters')\r\n    characters.setDepth(4)\r\n    \r\n    // plastics = this.add.image(220, 445, 'plastics')\r\n    // plastics.setScale(0.21)\r\n    // plastics.setDepth(1)\r\n    \r\n    //Flippers\r\n    leftFlipper = new LeftFlipper(this, 144, 632) \r\n    rightFlipper = new RightFlipper(this, 327, 632)\r\n    //sideFlipper = new SideFlipper(this, 420, 295)\r\n\r\n\r\n    //Pop bumpers\r\n    bumperA = new Bumper(this, 300, 125, 'bumper')\r\n    bumperB = new Bumper(this, 380, 125, 'bumper')\r\n    bumperC = new Bumper(this, 330, 175, 'bumper')\r\n\r\n    //Slingshots\r\n    slingshotA = new Slingshot(this, 122, 490, 148, 574, 177, 518, 5)\r\n    slingshotB = new Slingshot(this, 353, 491, 327, 574, 298, 518, 5)\r\n    \r\n    //Static Objects\r\n    /*********************************************************/\r\n    //StaticCustomShape(scene, x, y, path, collision group)\r\n    //StaticShape(scene, type, x, y, width, height, rotation, collision group)\r\n\r\n    // //First level (collision group B)\r\n    new StaticCustomShape(this, 250, 740, 'killZone', collisionGroupB).setScale(0.9, 1)\r\n    new StaticCustomShape(this, 147, 200, 'topLoop', collisionGroupB).setScale(0.85, 0.9)\r\n    \r\n    \r\n    new StaticCustomShape(this, 155, 244, 'leftRampLeft', collisionGroupB).setScale(0.82, 1)\r\n    new StaticCustomShape(this, 155, 244, 'leftRampLeft', collisionGroupC).setScale(0.82, 1)\r\n    \r\n    new StaticCustomShape(this, 157, 136, 'leftLoopTop', collisionGroupB).setAngle(11)\r\n    new StaticCustomShape(this, 60, 488, 'leftWall', collisionGroupB).setScale(1,1.1)\r\n    \r\n    new StaticCustomShape(this, 423, 530, 'rightWallA', collisionGroupB).setScale(1, 1.1).setAngle(-2.2)\r\n    new StaticCustomShape(this, 405, 310, 'rightWallB', collisionGroupB)\r\n    new StaticCustomShape(this, 350, 218, 'rightTrapCowl', collisionGroupB).setScale(0.82, 1) // Butters trap\r\n    new StaticCustomShape(this, 450, 455, 'farRightWall', collisionGroupB).setAngle(-.5) \r\n    \r\n    new StaticCustomShape(this, 365, 593, 'rightLane', collisionGroupB).setScale(0.82, 1)\r\n    new StaticCustomShape(this, 107, 593, 'leftLane', collisionGroupB).setScale(0.82, 1)\r\n    \r\n    new StaticCustomShape(this, 130, 540, 'leftSlingshot', collisionGroupB).setScale(0.82, 1).setCollidesWith(collisionGroupA)\r\n    new StaticCustomShape(this, 345, 540, 'rightSlingshot', collisionGroupB).setScale(0.82, 1).setCollidesWith(collisionGroupA)\r\n    \r\n    //new StaticCustomShape(this, 160, 168, 'leftRampRight', collisionGroupB)\r\n    //new StaticCustomShape(this, 282, 112, 'rightRampLeft', collisionGroupB)\r\n    //new StaticCustomShape(this, 342, 140, 'rightRampRight', collisionGroupB).setBounce(1)\r\n    //new StaticCustomShape(this, 218, 90, 'midTargetLeft', collisionGroupB)\r\n    new StaticCustomShape(this, 378, 400, 'rightTargets', collisionGroupB).setScale(1, 1)\r\n    new StaticShape(this, 'rectangle', 257, 215, 62, 30, .02, collisionGroupB)// Cartmen targets\r\n    new StaticShape(this, 'rectangle', 247, 95, 130, 15, 6.1, collisionGroupB) // top loop\r\n    \r\n    //Small round rubbers\r\n    new StaticShape(this, 'circle', 407, 451, 5, null, null, collisionGroupB) \r\n    new StaticShape(this, 'circle', 315, 150, 5, null, null, collisionGroupB)  \r\n    new StaticShape(this, 'circle', 314, 80, 5, null, null, collisionGroupB)//Top tri-lane\r\n    new StaticShape(this, 'circle', 341, 76, 5, null, null, collisionGroupB)//Top tri-lane\r\n    new StaticShape(this, 'circle', 371, 76, 5, null, null, collisionGroupB)//Top tri-lane\r\n    new StaticShape(this, 'circle', 314, 98, 5, null, null, collisionGroupB)//Top tri-lane\r\n    new StaticShape(this, 'circle', 341, 98, 5, null, null, collisionGroupB)//Top tri-lane\r\n    new StaticShape(this, 'circle', 371, 98, 5, null, null, collisionGroupB)//Top tri-lane\r\n\r\n    //Medium round rubbers\r\n    new StaticShape(this, 'circle', 236, 698, 6, null, null, collisionGroupB) // Center post\r\n    new StaticShape(this, 'circle', 100, 435, 8, null, null, collisionGroupB) // Left lane\r\n    new StaticShape(this, 'circle', 121, 491, 8, null, null, collisionGroupB) // Slingshot corners\r\n    new StaticShape(this, 'circle', 350, 491, 8, null, null, collisionGroupB) // \r\n    new StaticShape(this, 'circle', 148, 575, 8, null, null, collisionGroupB) // \r\n    new StaticShape(this, 'circle', 326, 575, 8, null, null, collisionGroupB) // \r\n\r\n    //Second level (collision group C)\r\n    new StaticCustomShape(this, 65, 500, 'leftLaneBottomLeft', collisionGroupC) // Left Lane bottom L\r\n    new StaticCustomShape(this, 110, 450, 'leftLaneBottomRight', collisionGroupC) // Left lane bottom R\r\n    \r\n    new StaticCustomShape(this, 160, 110, 'rightRampDivider', collisionGroupC).setScale(0.8, 1) // Ramp divider\r\n    //Add corner piece\r\n    new StaticCustomShape(this, 145, 7, 'leftRampTop', collisionGroupC).setScale(0.9, 1)// Left ramp top\r\n    // //leftRampDiverter = new StaticCustomShape(this, 130, 10, 'leftRampDiverter', collisionGroupC)\r\n    leftRampBottom = new StaticShape(this, 'circle', 144, 45, 23, null, null, collisionGroupC) // Left ramp bottom\r\n    new StaticShape(this, 'circle', 348, 78, 50, null, null, collisionGroupC) //Right ramp bottom\r\n    new StaticCustomShape(this, 335, 16, 'rightRampTop', collisionGroupC).setScale(0.9, 1) // Right ramp top\r\n    \r\n    new StaticShape(this, 'rectangle', 74, 228, 15, 360, 0.085, collisionGroupC) // Left rail L\r\n    new StaticShape(this, 'rectangle', 112, 228, 15, 360, 0.095, collisionGroupC) // Left rail R\r\n    new StaticShape(this, 'rectangle', 113, 511, 15, 25, 1, collisionGroupC) // Left rail termination\r\n\r\n    new StaticShape(this, 'rectangle', 213, 117, 15, 180, -0.14, collisionGroupC) // Mid ramp right\r\n    new StaticShape(this, 'rectangle', 273, 125, 15, 170, -0.10, collisionGroupC) // Right ramp left\r\n    new StaticShape(this, 'rectangle', 319, 144, 15, 120, -0.2, collisionGroupC) // Right ramp right\r\n    new StaticShape(this, 'rectangle', 402, 232, 15, 325, -0.08, collisionGroupC) // Right lane L\r\n    new StaticShape(this, 'rectangle', 445, 228, 15, 340, -0.08, collisionGroupC) // Right lane R\r\n    new StaticShape(this, 'rectangle', 383, 443, 130, 15, -1, collisionGroupC) // Right lane Bottom L\r\n    new StaticShape(this, 'rectangle', 427, 450, 160, 15, -1, collisionGroupC) // Right lane Bottom R\r\n    new StaticShape(this, 'rectangle', 363, 514, 15, 30, -1, collisionGroupC) // Right lane termination\r\n\r\n    \r\n\r\n    //Sensors \r\n\r\n    //Ramp on / off sensors\r\n    new Sensor(this, 180, 235, 30, 1.6, 'ramp', 'leftRampOn', sensorGroupA)\r\n    new Sensor(this, 202, 212, 30, -.1, 'ramp', 'centerRampOn', sensorGroupA)\r\n    new Sensor(this, 307, 208, 30, -.1, 'ramp', 'rightRampOn', sensorGroupA)  \r\n    new Sensor(this, 78, 461, 30, -.50, 'ramp-off', 'leftRampOff', sensorGroupB)  \r\n    new Sensor(this, 396, 461, 30, .50, 'ramp-off', 'rightRampOff', sensorGroupB)  \r\n    new Sensor(this, 255, 262, 120, 0, 'ramp-off', 'allRampsOff', sensorGroupB, {\r\n        width: 100\r\n    })  \r\n\r\n\r\n\r\n    //Collision events\r\n    /*********************************************************/\r\n\r\n\r\n    this.matter.world.on('collisionstart', function(event, bodyA, bodyB){\r\n\r\n        //Sensors\r\n        if (bodyB.label === 'Ball' && bodyA.isSensor) {\r\n\r\n            //Toggles the balls isOnRamp state\r\n            if (bodyA.type === 'ramp') {\r\n                bodyB.isOnRamp = !bodyB.isOnRamp\r\n            } else if (bodyA.type === 'ramp-off') {\r\n                setTimeout(function(){\r\n                    bodyB.isOnRamp = !bodyB.isOnRamp\r\n                }, 120)\r\n            }\r\n        }\r\n        \r\n        //Slingshots\r\n        if (bodyB.label === 'Ball' && bodyA.label === 'Slingshot'){\r\n            slingshotA.fire()\r\n            slingshotB.fire()\r\n        }\r\n\r\n        //Pop bumpers\r\n\r\n        if ( bodyA.label === \"bumper\" && bodyB.label  === 'Ball') {\r\n            bodyA.gameObject.fire(bodyB.position)\r\n        }\r\n    })\r\n}\r\n\r\n\r\n\r\nfunction update() {\r\n\r\n    \r\n    if(Phaser.Input.Keyboard.JustDown(spacebar)){\r\n        ball = new Ball(this, 416, 773, 'ball') \r\n        ball.launch()\r\n    }\r\n    \r\n    if (Phaser.Input.Keyboard.JustDown(left)){\r\n        leftFlipper.flip() \r\n    } \r\n    \r\n    if (Phaser.Input.Keyboard.JustUp(left)){\r\n        leftFlipper.release()\r\n    } \r\n\r\n    if (Phaser.Input.Keyboard.JustDown(right)){\r\n        rightFlipper.flip()\r\n        //sideFlipper.flip()\r\n    } \r\n\r\n    if (Phaser.Input.Keyboard.JustUp(right)){\r\n        rightFlipper.release()\r\n        //sideFlipper.release()\r\n    } \r\n} "],"file":"game.js"}