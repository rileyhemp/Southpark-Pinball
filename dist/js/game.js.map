{"version":3,"sources":["game.js"],"names":["config","type","Phaser","CANVAS","width","height","physics","default","matter","debug","gravity","x","y","scene","preload","create","update","Bodies","Physics","Matter","balls","ballsRemaining","spacebar","left","right","down","ball","bounds","leftFlipper","rightFlipper","sideFlipper","launcher","bumperA","bumperB","bumperC","slingshotA","slingshotB","playfield","plastics","table","ramps","characters","collisionGroupA","collisionGroupB","collisionGroupC","collisionGroupD","collisionGroupE","sensorGroupA","sensorGroupB","flipperCollisionGroup","test","tween","testFlipper","ballRolling","gameActive","score","multiplier","backgroundMusic","game","Game","load","image","audioSprite","audio","newGame","sound","add","getNewBall","endGame","console","log","pause","Ball","playAudioSprite","document","querySelector","textContent","addScore","amount","total","playRandomSound","sprite","spritemap","Object","keys","cache","json","get","Math","floor","random","length","world","positionIterations","velocityIterations","nextCategory","setBounds","input","keyboard","addKey","Input","Keyboard","KeyCodes","LEFT","DOWN","RIGHT","SPACE","on","pointer","setVelocityY","setDepth","LeftFlipper","RightFlipper","SideFlipper","Bumper","Slingshot","Launcher","StaticCustomShape","setScale","setAngle","StaticShape","setCollidesWith","Sensor","event","bodyA","bodyB","label","isOnCenterRamp","isOnRamp","isOnPlastic","setTimeout","isOnLauncher","fire","gameObject","position","registerHit","volume","sounds","object","body","render","visible","destroy","setVelocityX","JustDown","launch","flip","JustUp","release","charge"],"mappings":"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","sourcesContent":["\n//Initial config\n\nconst config = {\n    type: Phaser.CANVAS,\n    width: 520,\n    height: 800,\n    physics: {\n        default: 'matter',\n        matter: {\n            debug: false,\n            gravity: {\n                x: 0,\n                y: .9\n            }\n        }\n    },\n    scene: {\n        preload: preload, \n        create: create,\n        update: update \n    }\n}\n\n//Declare global variables \n\nconst Bodies = Phaser.Physics.Matter.Matter.Bodies\n\nlet balls = []\nlet ballsRemaining = 3\n\nlet \n    spacebar, \n    left,\n    right,\n    down,\n    ball, \n    bounds, \n    leftFlipper, \n    rightFlipper, \n    sideFlipper,\n    launcher,\n    bumperA, bumperB, bumperC,\n    slingshotA, slingshotB,\n\n    //Background\n    playfield,\n    plastics,\n    table,\n    ramps,\n    characters,\n\n    //Utilities\n    collisionGroupA, collisionGroupB, collisionGroupC, collisionGroupD, collisionGroupE,\n    sensorGroupA, sensorGroupB,\n    flipperCollisionGroup,\n    test,\n    tween,\n    testFlipper,\n    ballRolling,\n    gameActive,\n    score,\n    multiplier,\n    backgroundMusic\n    \nconst game = new Phaser.Game(config)\n\n//Load assets\n\nfunction preload() {\n    //Table\n    this.load.image('characters', 'dist/assets/table/characters.png')\n    this.load.image('ramps', 'dist/assets/table/ramps.png')\n    this.load.image('table', 'dist/assets/table/table.png')\n    this.load.image('ball', 'dist/assets/table/ball.png')\n    this.load.image('flipper', 'dist/assets/table/flipper.png')\n    this.load.image('rightFlipper', 'dist/assets/table/right-flipper.png')\n    this.load.image('sideFlipper', 'dist/assets/table/side-flipper.png')\n    //Table Sounds\n    this.load.audioSprite('sound_effects', 'dist/assets/sounds/sound_effects.json', \n        [ \n            'dist/assets/sounds/sound_effects.ogg', \n            'dist/assets/sounds/sound_effects.mp3'\n        ]\n    )\n    this.load.audio('ball_rolling', \n        [\n            'dist/assets/sounds/fx_ballrolling.ogg',\n            'dist/assets/sounds/fx_ballrolling.mp3'\n        ]\n    )\n    this.load.audio('ramp_rolling', \n        [\n            'dist/assets/sounds/fx_plasticrolling.ogg',\n            'dist/assets/sounds/fx_plasticrolling.mp3'\n        ]\n    )\n    //Music\n    this.load.audio('background_music', \n        [\n            'dist/assets/sounds/background_music.ogg',\n            'dist/assets/sounds/character_sounds/background_music.mp3'\n        ])\n    //Generic Negative\n    this.load.audioSprite('generic_negative', 'dist/assets/sounds/character_sounds/generic_negative.json',\n        [\n            'dist/assets/sounds/character_sounds/generic_negative.ogg', \n            'dist/assets/sounds/character_sounds/generic_negative.mp3'\n        ]\n    )\n    //Generic Positive\n    this.load.audioSprite('generic_positive', 'dist/assets/sounds/character_sounds/generic_positive.json',\n        [\n            'dist/assets/sounds/character_sounds/generic_positive.ogg', \n            'dist/assets/sounds/character_sounds/generic_positive.mp3'\n        ]\n    )\n    //Cartman\n    this.load.audioSprite('cartman_block', 'dist/assets/sounds/character_sounds/cartman_block.json',\n        [\n            'dist/assets/sounds/character_sounds/cartman_block.ogg', \n            'dist/assets/sounds/character_sounds/cartman_block.mp3'\n        ]\n    )\n    this.load.audioSprite('cartman_damage', 'dist/assets/sounds/character_sounds/cartman_damage.json',\n        [\n            'dist/assets/sounds/character_sounds/cartman_damage.ogg', \n            'dist/assets/sounds/character_sounds/cartman_damage.mp3'\n        ]\n    )\n    this.load.audioSprite('cartman_end', 'dist/assets/sounds/character_sounds/cartman_end.json',\n        [\n            'dist/assets/sounds/character_sounds/cartman_end.ogg', \n            'dist/assets/sounds/character_sounds/cartman_end.mp3'\n        ]\n    )\n    this.load.audioSprite('cartman_start', 'dist/assets/sounds/character_sounds/cartman_start.json',\n        [\n            'dist/assets/sounds/character_sounds/cartman_start.ogg', \n            'dist/assets/sounds/character_sounds/cartman_start.mp3'\n        ]\n    )\n    //Kenny\n    this.load.audioSprite('kenny_hit', 'dist/assets/sounds/character_sounds/kenny_hit.json',\n        [\n            'dist/assets/sounds/character_sounds/kenny_hit.ogg', \n            'dist/assets/sounds/character_sounds/kenny_hit.mp3'\n        ]\n    )\n    //Kyle\n    this.load.audioSprite('kyle_hit', 'dist/assets/sounds/character_sounds/kyle_hit.json',\n        [\n            'dist/assets/sounds/character_sounds/kyle_hit.ogg', \n            'dist/assets/sounds/character_sounds/kyle_hit.mp3'\n        ]\n    )\n    //Stan\n    this.load.audioSprite('stan_hit', 'dist/assets/sounds/character_sounds/stan_hit.json',\n        [\n            'dist/assets/sounds/character_sounds/stan_hit.ogg', \n            'dist/assets/sounds/character_sounds/stan_hit.mp3'\n        ]\n    )    \n    //Butters\n    this.load.audioSprite('butters_hit', 'dist/assets/sounds/character_sounds/butters_hit.json',\n    [\n        'dist/assets/sounds/character_sounds/butters_hit.ogg', \n        'dist/assets/sounds/character_sounds/butters_hit.mp3'\n    ]\n)       \n}\n\nfunction newGame(scene)\n{\n    gameActive = true\n    score = 0\n    multiplier = 1\n    backgroundMusic = scene.sound.add('background_music')\n    getNewBall(scene)\n}\n\nfunction endGame()\n{\n    console.log('game over')\n    score = 0\n}\n\nfunction getNewBall(scene)\n{\n    backgroundMusic.pause()\n    ball = new Ball(scene, 455, 689, 'ball') \n    scene.sound.playAudioSprite('sound_effects', \"rollover\")\n        ballsRemaining--\n        document.querySelector('.balls-remaining').textContent = ballsRemaining\n}\n\nfunction addScore(amount)\n{\n    let total = amount * multiplier\n    score += total\n    document.querySelector('.score').textContent = score\n}\n\nfunction playRandomSound(sprite, scene)\n{\n    let spritemap = Object.keys(scene.cache.json.get(sprite).spritemap)\n    scene.sound.playAudioSprite(sprite, spritemap[Math.floor(Math.random()*spritemap.length)])\n}\n\n//Initialize table\n\nfunction create() {\n\n\n    this.matter.world.positionIterations = 10\n    this.matter.world.velocityIterations = 10\n\n    //Set some things up, inputs, collisiongroups, etc. \n    sensorGroupA = this.matter.world.nextCategory() // Ground level sensors\n    sensorGroupB = this.matter.world.nextCategory() // Upper level sensors\n    collisionGroupA = this.matter.world.nextCategory() // Ball\n    collisionGroupB = this.matter.world.nextCategory() // Walls\n    collisionGroupC = this.matter.world.nextCategory()\n    collisionGroupD = this.matter.world.nextCategory()\n    collisionGroupE = this.matter.world.nextCategory()\n    flipperCollisionGroup = this.matter.world.nextCategory()\n    test = this\n    bounds = this.matter.world.setBounds(0, 0, 520, 800, 30, true, true, true, true)\n    left = this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.LEFT)\n    down = this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.DOWN)\n    right = this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.RIGHT)\n    spacebar = this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.SPACE)\n    \n\n    //Utility functions\n\n    //Add a ball where you click\n    this.input.on('pointerdown', function(pointer)\n    {\n        // console.log(pointer.x, ',', pointer.y)\n        // //ball.readyBall()\n        ball = new Ball(this, pointer.x, pointer.y, 'ball') \n        ball.setVelocityY(-15)\n        // ball.setVelocityX(-5)\n        // newGame(this)\n    }, this)\n\n    //Textures\n    table = this.add.image(260, 400, 'table')\n    table.setDepth(1)\n    ramps = this.add.image(260, 400, 'ramps')\n    ramps.setDepth(2)\n    characters = this.add.image(260, 400, 'characters')\n    characters.setDepth(4)\n    \n    //Flippers\n    leftFlipper = new LeftFlipper(this, 150, 632) \n    rightFlipper = new RightFlipper(this, 327, 632)\n    sideFlipper = new SideFlipper(this, 407, 313)\n\n    //Pop bumpers\n    bumperA = new Bumper(this, 308, 125, 'bumper')\n    bumperB = new Bumper(this, 365, 135, 'bumper')\n    bumperC = new Bumper(this, 335, 190, 'bumper')\n\n    //Slingshots\n    slingshotA = new Slingshot(this, 121, 490, 152, 574, 177, 510, 5, 'slingshotA')\n    slingshotB = new Slingshot(this, 353, 491, 324, 574, 298, 510, 5, 'slingshotB')\n    // slingshotA = new Slingshot(this, 137, 533, 'rightSlingshot', collisionGroupB)\n    // slingshotB = new Slingshot(this, 340, 533, 'leftSlingshot', collisionGroupB)\n\n    //Launcher\n    launcher = new Launcher(this, 455, 755)\n    \n    //Static Objects\n    /*********************************************************/\n    //StaticCustomShape(scene, x, y, path, collision group)\n    //StaticShape(scene, type, x, y, width, height, rotation, collision group)\n\n    //First level (collision group B)\n    //new StaticCustomShape(this, 218, 90, 'midTargetLeft', collisionGroupB)\n    new StaticCustomShape(this, 250, 740, 'killZone', collisionGroupB).setScale(0.9, 1)\n    new StaticCustomShape(this, 147, 200, 'topLoop', collisionGroupB).setScale(0.85, 0.9)\n    new StaticCustomShape(this, 155, 244, 'leftRampLeft', collisionGroupB).setScale(0.82, 1)\n    new StaticCustomShape(this, 155, 244, 'leftRampLeft', collisionGroupC).setScale(0.82, 1)\n    new StaticCustomShape(this, 152, 134, 'leftLoopTop', collisionGroupB).setAngle(11)\n    new StaticShape(this, 'rectangle', 247, 95, 135, 15, 6.15, collisionGroupB) // top loop\n    new StaticCustomShape(this, 60, 488, 'leftWall', collisionGroupB).setScale(1,1.1)\n    new StaticCustomShape(this, 423, 530, 'rightWallA', collisionGroupB).setScale(1, 1.1).setAngle(-2.2)\n    new StaticCustomShape(this, 405, 320, 'rightWallB', collisionGroupB).setScale(.8, 1)\n    new StaticCustomShape(this, 350, 218, 'rightTrapCowl', collisionGroupB).setScale(0.82, 1) // Butters trap\n    new StaticCustomShape(this, 450, 455, 'farRightWall', collisionGroupB).setAngle(-.5) \n    new StaticCustomShape(this, 365, 593, 'rightLane', collisionGroupB).setScale(0.82, 1)\n    new StaticCustomShape(this, 107, 593, 'leftLane', collisionGroupB).setScale(0.82, 1)\n    new StaticCustomShape(this, 130, 540, 'leftSlingshot', collisionGroupB).setScale(0.82, 1).setCollidesWith(collisionGroupA)\n    new StaticCustomShape(this, 345, 540, 'rightSlingshot', collisionGroupB).setScale(0.82, 1).setCollidesWith(collisionGroupA)\n    new StaticCustomShape(this, 378, 400, 'rightTargets', collisionGroupB).setScale(1, 1)\n    new StaticShape(this, 'rectangle', 257, 195, 62, 62, .02, collisionGroupB)// Cartmen targets\n    new StaticShape(this, 'rectangle', 447, 700, 10, 5, 1, collisionGroupB)// Launcher align\n    new StaticShape(this, 'rectangle', 463, 700, 10, 5, -1, collisionGroupB)// Launcher align\n    new StaticShape(this, 'rectangle', 425, 475, 1, 470, -0.08, collisionGroupB)// Launcher lane inner\n    new StaticShape(this, 'rectangle', 415, 187, 10, 150, .15, collisionGroupD)// Launcher lane gate\n    new StaticShape(this, 'rectangle', 55, 506, 10, 200, .08, collisionGroupD)// Left wall\n    new StaticShape(this, 'circle', 310, 64, 10, null, null, collisionGroupE, 'rubber')//Launcher top loop gate\n    new StaticShape(this, 'circle', 385, 488, 5, null, null, collisionGroupB, 'rubber') // Right lane topper\n    new StaticShape(this, 'circle', 86, 488, 5, null, null, collisionGroupB, 'rubber') // Left lane topper\n    new StaticShape(this, 'circle', 407, 451, 5, null, null, collisionGroupB, 'rubber') \n    new StaticShape(this, 'circle', 314, 80, 5, null, null, collisionGroupB, 'rubber')//Top tri-lane\n    new StaticShape(this, 'circle', 341, 76, 5, null, null, collisionGroupB, 'rubber')//Top tri-lane\n    new StaticShape(this, 'circle', 314, 98, 5, null, null, collisionGroupB, 'rubber')//Top tri-lane\n    new StaticShape(this, 'circle', 341, 94, 5, null, null, collisionGroupB, 'rubber')//Top tri-lane\n    new StaticShape(this, 'circle', 375, 98, 5, null, null, collisionGroupB, 'rubber')//Top tri-lane\n    new StaticShape(this, 'circle', 367, 98, 5, null, null, collisionGroupB, 'rubber')//Top tri-lane\n    new StaticShape(this, 'circle', 320, 160, 10, null, null, collisionGroupB, 'rubber') // Bumpers spacer\n    new StaticShape(this, 'circle', 100, 435, 8, null, null, collisionGroupB, 'rubber') // Left lane\n    new StaticShape(this, 'circle', 125, 491, 12, null, null, collisionGroupB, 'rubber') // Slingshot corners\n    new StaticShape(this, 'circle', 350, 491, 12, null, null, collisionGroupB, 'rubber') // \n    new StaticShape(this, 'circle', 148, 575, 8, null, null, collisionGroupB, 'rubber') // \n    new StaticShape(this, 'circle', 326, 575, 8, null, null, collisionGroupB, 'rubber') // \n    \n    //Second level (collision group C)\n    new StaticCustomShape(this, 147, 10, 'leftRampDiverter', collisionGroupE)\n    new StaticShape(this, 'circle', 144, 45, 23, null, null, collisionGroupD) // Left ramp bottom\n    new StaticCustomShape(this, 65, 500, 'leftLaneBottomLeft', collisionGroupC) // Left Lane bottom L\n    new StaticCustomShape(this, 110, 450, 'leftLaneBottomRight', collisionGroupC) // Left lane bottom R\n    new StaticCustomShape(this, 171, 184, 'leftRampRight', collisionGroupC).setScale(0.7, 1.2)\n    new StaticCustomShape(this, 163, 110, 'rightRampDivider', collisionGroupC).setScale(0.6, 1) // Left / center ramp divider\n    new StaticCustomShape(this, 140, 7, 'leftRampTop', collisionGroupC).setScale(0.8, 1)// Left ramp top\n    new StaticShape(this, 'rectangle', 220, 117, 35, 180, -0.2, collisionGroupC) // Mid ramp right\n    new StaticShape(this, 'circle', 348, 78, 50, null, null, collisionGroupC) //Right ramp bottom\n    new StaticCustomShape(this, 335, 16, 'rightRampTop', collisionGroupC).setScale(0.8, 1) // Right ramp top\n    new StaticShape(this, 'rectangle', 275, 125, 15, 170, -0.05, collisionGroupC) // Right ramp left\n    new StaticShape(this, 'rectangle', 319, 160, 20, 140, -0.15, collisionGroupC) // Right ramp right\n    new StaticShape(this, 'rectangle', 315, 160, 10, 140, -0.15, collisionGroupB) // Right ramp right\n    new StaticShape(this, 'rectangle', 74, 228, 15, 360, 0.085, collisionGroupC) // Left rail L\n    new StaticShape(this, 'rectangle', 112, 228, 15, 360, 0.095, collisionGroupC) // Left rail R\n    new StaticShape(this, 'rectangle', 113, 511, 15, 25, 1, collisionGroupC) // Left rail termination\n    new StaticShape(this, 'rectangle', 402, 232, 15, 325, -0.08, collisionGroupC) // Right lane L\n    new StaticShape(this, 'rectangle', 445, 228, 15, 340, -0.08, collisionGroupC) // Right lane R\n    new StaticShape(this, 'rectangle', 383, 443, 130, 15, -1, collisionGroupC) // Right lane Bottom L\n    new StaticShape(this, 'rectangle', 427, 450, 160, 15, -1, collisionGroupC) // Right lane Bottom R\n    new StaticShape(this, 'rectangle', 363, 514, 15, 30, -1, collisionGroupC) // Right lane termination\n    \n    //Sensors \n    //constructor(scene, x, y, width, rotation, type, name, collisionGroup)\n    //Ramp on\n    new Sensor(this, 170, 235, 30, 20, 1.6, 'ramp-on', 'leftRampOn', sensorGroupA)\n    new Sensor(this, 207, 205, 50, 20, -.1, 'ramp-on', 'centerRampOn', sensorGroupA)\n    new Sensor(this, 303, 200, 60, 20, -.1, 'ramp-on', 'rightRampOn', sensorGroupA)  \n    //Ramp off\n    new Sensor(this, 78, 461, 30, 20, -.50, 'ramp-off', 'leftRampOff', sensorGroupB)  \n    new Sensor(this, 396, 461, 30, 20, .50, 'ramp-off', 'rightRampOff', sensorGroupB) \n    new Sensor(this, 255, 262, 120, 20, 0, 'ramp-off', 'allRampsOff', sensorGroupB)  \n    //Launcher on \n    new Sensor(this, 435, 477, 30, 20, 1.6, 'launcher-on', 'launcherOn', sensorGroupA)\n    //Launcher off\n    new Sensor(this, 349, 100, 80, 20, -.1, 'launcher-off', 'launcherOff', sensorGroupA)\n    //Butters\n    new Sensor(this, 348, 237, 30, 10, .3, 'target', 'butters', sensorGroupA)\n    //Rails \n    new Sensor(this, 107, 47, 30, 20, 0, 'rail', null, sensorGroupB)\n    new Sensor(this, 408, 47, 30, 20, 0, 'rail', null, sensorGroupB)\n\n    //Collision events\n    /*********************************************************/\n    this.matter.world.on(['collisionend'], (event, bodyA, bodyB) => \n    {\n\n        if (bodyB.label === 'Ball') \n        {\n\n            //Ramp sensors on / off\n\n            //Kenny (left) ramp on\n            if (bodyA.label === 'leftRampOn')\n            {\n                playRandomSound('kenny_hit', this)\n            }\n\n            if (bodyA.label === 'centerRampOn')\n            {\n                playRandomSound('stan_hit', this)\n                bodyB.isOnCenterRamp = true\n            }\n\n            if (bodyA.label === 'rightRampOn')\n            {\n                playRandomSound('kyle_hit', this)\n            }\n\n            //Generic ramp on\n            if (bodyA.type === 'ramp-on')\n            {\n                bodyB.isOnRamp = true\n                bodyB.isOnPlastic = true\n            } \n\n            //Generic ramp off\n            if (bodyA.type === 'ramp-off')\n            {\n                setTimeout(function(){\n                    bodyB.isOnRamp = false\n                    bodyB.isOnCenterRamp = false\n                }, 100)\n            }\n\n            //Launcher on / off\n            if (bodyA.type === 'launcher-on')\n            {\n                bodyB.isOnLauncher = true\n            }\n\n            if (bodyA.type === 'launcher-off')\n            {\n                bodyB.isOnLauncher = false\n            }\n        \n            //Slingshots\n            if (bodyA.label === 'slingshotA')\n            {\n                slingshotA.fire()\n            }\n\n            if (bodyA.label === 'slingshotB')\n            {\n                slingshotB.fire()\n            }\n\n            //Pop bumpers\n            if ( bodyA.label === \"bumper\") \n            {\n                bodyA.gameObject.fire(bodyB.position)\n                addScore(1000)\n            }\n\n            //Butters target \n            if ( bodyA.label === 'butters' ) \n            {   \n                registerHit(this, bodyA.label, bodyB)\n                addScore(10000)\n                playRandomSound('butters_hit', this)  \n            }\n\n            //Rails \n            if (bodyA.type === 'rail')\n            {\n                this.sound.playAudioSprite('sound_effects', 'WireRamp', {\n                    volume: 0.5\n                })\n                bodyB.isOnPlastic = false\n                addScore(5000)\n            }\n\n            //Rubbers \n            if (bodyA.label === 'rubber')\n            {\n                let sounds = ['rubber_hit_1', 'rubber_hit_2', 'rubber_hit_3']\n                this.sound.playAudioSprite('sound_effects', sounds[Math.floor(Math.random()*3)])\n            }\n\n            //Flippers \n            if (bodyA.label === 'flipper')\n            {\n                let sounds = ['flip_hit_1', 'flip_hit_2', 'flip_hit_3']\n                this.sound.playAudioSprite('sound_effects', sounds[Math.floor(Math.random()*sounds.length)])\n            }\n        }\n\n    }\n)\n    \n\n    \n\n    \n    //Hit registration\n\n    function registerHit(scene, object, body) {\n        \n        if (object === 'butters') {\n            scene.sound.playAudioSprite('sound_effects', 'hole_enter')\n            //Holds the ball for 1.5 seconds and shoots back to left flipper\n            body.render.visible = false\n            setTimeout(()=>{\n                body.destroy()\n                setTimeout(()=>{\n                    ball = new Ball(scene, 340, 259, 'ball') \n                    ball.setVelocityY(3)\n                    ball.setVelocityX(-3)\n                    scene.sound.playAudioSprite('sound_effects', 'ExitSandman')\n                }, 1500)\n            }, 50)\n        }\n    }\n}\n\n\n\nfunction update() {\n\n    if(Phaser.Input.Keyboard.JustDown(spacebar))\n    {\n        ball = new Ball(this, 416, 773, 'ball') \n        ball.launch()\n    }\n    \n    if (Phaser.Input.Keyboard.JustDown(left))\n    {\n        leftFlipper.flip() \n    } \n    \n    if (Phaser.Input.Keyboard.JustUp(left))\n    {\n        leftFlipper.release()\n    } \n\n    if (Phaser.Input.Keyboard.JustDown(right))\n    {\n        rightFlipper.flip()\n        sideFlipper.flip()\n    } \n\n    if (Phaser.Input.Keyboard.JustUp(right))\n    {\n        rightFlipper.release()\n        sideFlipper.release()\n    } \n\n    if (Phaser.Input.Keyboard.JustDown(down))\n    {\n        launcher.charge()\n    }\n\n    if (Phaser.Input.Keyboard.JustUp(down))\n    {\n        launcher.fire()\n    }\n\n    //Round is over when no balls are in play\n    if (balls.length === 0)\n    {\n        //If there are still balls left and a game running, load another ball\n        if ( ballsRemaining > -1 && gameActive)\n        {\n            getNewBall(this)\n        }\n        //Otherwise the game is over\n        else\n        { \n            gameActive = false\n        }\n    }\n} \n\n"],"file":"game.js"}