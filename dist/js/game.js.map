{"version":3,"sources":["game.js"],"names":["Ball","scene","x","y","texture","matter","world","body","friction","frictionAir","console","log","frictionStatic","sys","displayList","add","setCollisionCategory","collisionGroupA","density","Phaser","Physics","Matter","Image","StaticObject","name","setExistingBody","Bodies","fromVertices","PATHS","setStatic","config","type","AUTO","width","height","physics","default","debug","gravity","preload","create","update","flipperLength","frictionAmount","balls","spacebar","left","right","ball","bounds","leftFlipper","rightFlipper","leftApron","rightApron","dome","apronLeft","apronRight","apronBottom","bumperRight","bumperLeft","fixtureTopLeft","hsBottom","hsTop","triPegLeft","triPegRight","wallLowLeft","wallTopLeft","wallTopRight","wallTopRightInner","collisionGroupB","pegA","pegB","pegC","pegs","test","game","Game","load","image","nextCategory","LeftFlipper","RightFlipper","setBounds","input","keyboard","addKey","Input","Keyboard","KeyCodes","LEFT","RIGHT","SPACE","i","length","setBounce","setCircle","hold","JustDown","flip","isFlipping","JustUp"],"mappings":"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","sourcesContent":["class Ball extends Phaser.Physics.Matter.Image {\r\n    constructor(scene, x, y, texture) {\r\n        super(scene.matter.world, x, y, texture)\r\n        super.setScale(.17)\r\n        super.setCircle(8.657)\r\n        this.body.friction = 0\r\n        this.body.frictionAir = 0\r\n        console.log(this.body.frictionStatic)\r\n        scene.sys.displayList.add(this)\r\n        this.setCollisionCategory(collisionGroupA)\r\n        this.body.density = 0.75\r\n    }\r\n    launch(){\r\n        super.setVelocityY(-30)\r\n    }\r\n}\r\n\r\nclass StaticObject extends Phaser.Physics.Matter.Image {\r\n    constructor(scene, x, y, name){\r\n        super(scene.matter.world, 0, 0, name)\r\n        scene.sys.displayList.add(this)\r\n        this.scene = scene\r\n        this.setExistingBody(Bodies.fromVertices(0,0, PATHS[`${name}`]))\r\n        this.setStatic(true)\r\n        this.x = x\r\n        this.y = y\r\n    }\r\n}\r\n\r\nconst config = {\r\n    type: Phaser.AUTO,\r\n    width: 440,\r\n    height: 800,\r\n    physics: {\r\n        default: 'matter',\r\n        matter: {\r\n            debug: true,\r\n            gravity: {\r\n                x: 0,\r\n                y: 0.35\r\n            }\r\n        }\r\n    },\r\n    scene: {\r\n        preload: preload, \r\n        create: create,\r\n        update: update \r\n    }\r\n}\r\n\r\nconst Bodies = Phaser.Physics.Matter.Matter.Bodies\r\n\r\nconst flipperLength = 70\r\n\r\nconst frictionAmount = 1\r\n\r\nlet \r\n    balls, \r\n    spacebar, \r\n    left,\r\n    right,\r\n    ball, \r\n    bounds, \r\n    leftFlipper, \r\n    rightFlipper, \r\n    leftApron,\r\n    rightApron,\r\n    dome,\r\n    apronLeft,\r\n    apronRight,\r\n    apronBottom,\r\n    bumperRight,\r\n    bumperLeft,\r\n    fixtureTopLeft,\r\n    hsBottom,\r\n    hsTop,\r\n    triPegLeft,\r\n    triPegRight,\r\n    wallLowLeft,\r\n    wallTopLeft,\r\n    wallTopRight,\r\n    wallTopRightInner,\r\n    collisionGroupA,\r\n    collisionGroupB,\r\n    pegA,\r\n    pegB,\r\n    pegC,\r\n    pegs,\r\n    test\r\n    \r\nconst game = new Phaser.Game(config)\r\n\r\nfunction preload() {\r\n    this.load.image('ball', 'dist/assets/sprites/wizball.png')\r\n    this.load.image('rectA', 'dist/assets/solids/grey-solid.svg')\r\n    this.load.image('schematic', 'dist/assets/schematic.jpg')\r\n    this.load.image('dome', 'dist/assets/textures/Dome.png')\r\n}\r\n\r\n//***************************************************************************************//\r\n\r\nfunction create() {\r\n\r\n    //Define collision groups\r\n    collisionGroupA = this.matter.world.nextCategory()\r\n    collisionGroupB = this.matter.world.nextCategory()\r\n\r\n    //Add the flippers\r\n    leftFlipper = new LeftFlipper(this, 150, 710)\r\n    rightFlipper = new RightFlipper(this, 290, 710)\r\n\r\n    test = this\r\n\r\n    //Set world bounds\r\n    bounds = this.matter.world.setBounds(0, 0, 440, 800, 30, true, true, true, true)\r\n\r\n    //Define inputs\r\n    left = this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.LEFT)\r\n    right = this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.RIGHT)\r\n    spacebar = this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.SPACE)\r\n    \r\n    //Layout overlay\r\n    //let schematic = this.add.image(220,400, 'schematic')\r\n    //schematic.scale = 0.8\r\n    //schematic.y = schematic.y + 20\r\n   \r\n    //Create the ball\r\n\r\n    ball = new Ball(this, 100, 625, 'ball') \r\n    \r\n    //Place static objects\r\n\r\n    dome = new StaticObject(this, 220, 190, 'dome')\r\n    \r\n    apronLeft = new StaticObject(this, 90, 658, 'apronLeft')\r\n\r\n    apronRight = new StaticObject(this, 340, 680, 'apronRight')\r\n\r\n    bumperLeft = new StaticObject(this, 120, 622, 'bumperLeft')\r\n\r\n    bumperRight = new StaticObject(this, 314, 622, 'bumperRight')\r\n\r\n    fixtureTopLeft = new StaticObject(this, 90, 165, 'fixtureTopLeft')  \r\n\r\n    hsBottom = new StaticObject(this, 215, 115, 'hsBottom')\r\n\r\n    hsTop = new StaticObject(this, 215, 110, 'hsTop')\r\n\r\n    triPegLeft = new StaticObject(this, 40, 445, 'triPegLeft')\r\n\r\n    triPegRight = new StaticObject(this, 400, 428, 'triPegRight')\r\n\r\n    pegA = this.matter.add.image(0, 0, 'pegA')\r\n    pegA.x = 312\r\n    pegA.y = 60\r\n\r\n    pegB = this.matter.add.image(0, 0, 'pegB')\r\n    pegB.x = 370\r\n    pegB.y = 109\r\n\r\n    pegC = this.matter.add.image(0, 0, 'pegC')\r\n    pegC.x = 298\r\n    pegC.y = 135\r\n\r\n    pegs = [pegA, pegB, pegC]\r\n\r\n    for (let i=0; i<pegs.length; i++){\r\n        pegs[i].frictionStatic = frictionAmount\r\n        pegs[i].setBounce(2)\r\n        pegs[i].setCircle(24).setStatic(true)\r\n    }\r\n\r\n    //Walls\r\n\r\n    wallTopLeft = new StaticObject(this, 27, 345, 'wallTopLeft')\r\n\r\n    wallTopRight = new StaticObject(this, 426, 305, 'wallTopRight')\r\n\r\n    wallTopRightInner = new StaticObject(this, 385, 220, 'wallTopRightInner')\r\n\r\n    wallLowLeft = new StaticObject(this, 26, 510, 'wallLowLeft')\r\n    \r\n}\r\n\r\nfunction update() {\r\n\r\n    leftFlipper.hold()\r\n    rightFlipper.hold()\r\n    \r\n    if(Phaser.Input.Keyboard.JustDown(spacebar)){\r\n        ball = new Ball(this, 130, 625, 'ball') \r\n    }\r\n\r\n    if (Phaser.Input.Keyboard.JustDown(left)){\r\n        leftFlipper.flip() \r\n        leftFlipper.isFlipping = true\r\n    } \r\n    \r\n    if (Phaser.Input.Keyboard.JustUp(left)){\r\n        leftFlipper.isFlipping = false\r\n    } \r\n\r\n    if (Phaser.Input.Keyboard.JustDown(right)){\r\n        rightFlipper.flip()\r\n        rightFlipper.isFlipping = true\r\n    } \r\n\r\n    if (Phaser.Input.Keyboard.JustUp(right)){\r\n        rightFlipper.isFlipping = false\r\n    } \r\n    \r\n\r\n\r\n} \r\n\r\n\r\n\r\n\r\n\r\n///The base of the flipper is a 15mm diameter circle, sloping down to a 5mm diameter circle at the tip. Overall length is 71mm, "],"file":"game.js"}