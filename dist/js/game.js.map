{"version":3,"sources":["game.js"],"names":["config","type","Phaser","CANVAS","width","height","physics","default","matter","debug","gravity","x","y","scene","preload","create","update","Bodies","Physics","Matter","balls","spacebar","left","right","shift","ball","bounds","leftFlipper","rightFlipper","sideFlipper","testShape","bumperA","bumperB","bumperC","slingshotA","slingshotB","playfield","plastics","table","ramps","characters","collisionGroupA","collisionGroupB","collisionGroupC","collisionGroupD","collisionGroupE","sensorGroupA","sensorGroupB","leftRampDivert","leftRampDiverter","leftRampBottom","flipperCollisionGroup","test","tween","testFlipper","game","Game","load","image","world","nextCategory","setBounds","input","keyboard","addKey","Input","Keyboard","KeyCodes","LEFT","SHIFT","RIGHT","SPACE","on","pointer","Ball","console","log","vertices","value","push","add","setDepth","LeftFlipper","RightFlipper","SideFlipper","Bumper","Slingshot","StaticCustomShape","setScale","setAngle","StaticShape","setCollidesWith","Sensor","event","bodyA","bodyB","label","isOnRamp","isOnCenterRamp","setTimeout","isOnLeftRamp","fire","gameObject","position","JustDown","launch","flip","JustUp","release"],"mappings":"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","sourcesContent":["\n//Initial config\n\nconst config = {\n    type: Phaser.CANVAS,\n    width: 520,\n    height: 800,\n    physics: {\n        default: 'matter',\n        matter: {\n            debug: true,\n            gravity: {\n                x: 0,\n                y: .9\n            }\n        }\n    },\n    scene: {\n        preload: preload, \n        create: create,\n        update: update \n    }\n}\n\n//Declare global variables \n\nconst Bodies = Phaser.Physics.Matter.Matter.Bodies\n\nlet balls = []\n\nlet \n    spacebar, \n    left,\n    right,\n    shift,\n    ball, \n    bounds, \n    leftFlipper, \n    rightFlipper, \n    sideFlipper,\n    testShape,\n    bumperA, bumperB, bumperC,\n    slingshotA, slingshotB,\n\n    //Background\n    playfield,\n    plastics,\n    table,\n    ramps,\n    characters,\n\n    //Utilities\n    collisionGroupA, collisionGroupB, collisionGroupC, collisionGroupD, collisionGroupE,\n    sensorGroupA, sensorGroupB,\n    leftRampDivert, // Default: false\n    leftRampDiverter, \n    leftRampBottom,\n    flipperCollisionGroup,\n    test,\n    tween,\n    testFlipper\n    \nconst game = new Phaser.Game(config)\n\n//Load assets\n\nfunction preload() {\n    \n    this.load.image('rectA', 'dist/assets/solids/grey-solid.svg')\n    this.load.image('schematic', 'dist/assets/schematic.jpg')\n    this.load.image('blueprint', 'dist/assets/blueprint.png')\n    this.load.image('plastics', 'dist/assets/Plasticos.png')\n    this.load.image('playfield', 'dist/assets/Playfield.png')\n    this.load.image('render', 'dist/assets/render.png')\n    this.load.image('characters', 'dist/assets/table/characters.png')\n    this.load.image('ramps', 'dist/assets/table/ramps.png')\n    this.load.image('table', 'dist/assets/table/table.png')\n    this.load.image('ball', 'dist/assets/table/ball.png')\n}\n\n//Initialize table\n\nfunction create() {\n\n    //Set some things up, inputs, collisiongroups, etc. \n    sensorGroupA = this.matter.world.nextCategory() // Ground level sensors\n    sensorGroupB = this.matter.world.nextCategory() // Upper level sensors\n    collisionGroupA = this.matter.world.nextCategory() // Ball\n    collisionGroupB = this.matter.world.nextCategory() // Walls\n    collisionGroupC = this.matter.world.nextCategory()\n    collisionGroupD = this.matter.world.nextCategory()\n    collisionGroupE = this.matter.world.nextCategory()\n    flipperCollisionGroup = this.matter.world.nextCategory()\n    leftRampDivert = false\n\n    test = this\n    bounds = this.matter.world.setBounds(0, 0, 520, 800, 30, true, true, true, true)\n    left = this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.LEFT)\n    shift = this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.SHIFT)\n    right = this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.RIGHT)\n    spacebar = this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.SPACE)\n    \n\n    //Utility functions\n\n    //Add a ball where you click\n    this.input.on('pointerdown', function(pointer){\n        ball = new Ball(this, pointer.x, pointer.y, 'ball') \n        // ball.setVelocityY(-15)\n        // ball.setVelocityX(-15)\n        console.log(pointer.x, ',', pointer.y)\n    }, this)\n\n    //Creates paths used to draw physics shapes. \n    let vertices = []\n    this.input.on('pointerdown', function(pointer){\n        let value = {\n            x: pointer.x,\n            y: pointer.y\n        }\n        vertices.push(value)\n        console.log(vertices)\n    }, this)\n    \n\n    \n    //Layout overlay\n    //let blueprint = this.add.image(260,400, 'blueprint')\n    \n    // playfield = this.add.image(260, 390, 'render')\n    // playfield.setScale(1)\n    // playfield.setDepth(1)\n\n    // table = this.add.image(260, 400, 'table')\n    // table.setDepth(1)\n    ramps = this.add.image(260, 400, 'ramps')\n    ramps.setDepth(2)\n    characters = this.add.image(260, 400, 'characters')\n    characters.setDepth(4)\n    \n    // plastics = this.add.image(220, 445, 'plastics')\n    // plastics.setScale(0.21)\n    // plastics.setDepth(1)\n    \n    //Flippers\n    leftFlipper = new LeftFlipper(this, 144, 632) \n    rightFlipper = new RightFlipper(this, 327, 632)\n    sideFlipper = new SideFlipper(this, 405, 318)\n\n\n    //Pop bumpers\n    bumperA = new Bumper(this, 308, 125, 'bumper')\n    bumperB = new Bumper(this, 365, 135, 'bumper')\n    bumperC = new Bumper(this, 335, 190, 'bumper')\n\n    //Slingshots\n    slingshotA = new Slingshot(this, 122, 490, 148, 574, 177, 518, 5)\n    slingshotB = new Slingshot(this, 353, 491, 327, 574, 298, 518, 5)\n    \n    //Static Objects\n    /*********************************************************/\n    //StaticCustomShape(scene, x, y, path, collision group)\n    //StaticShape(scene, type, x, y, width, height, rotation, collision group)\n\n    //First level (collision group B)\n    new StaticCustomShape(this, 250, 740, 'killZone', collisionGroupB).setScale(0.9, 1)\n    new StaticCustomShape(this, 147, 200, 'topLoop', collisionGroupB).setScale(0.85, 0.9)\n    \n    \n    new StaticCustomShape(this, 155, 244, 'leftRampLeft', collisionGroupB).setScale(0.82, 1)\n    new StaticCustomShape(this, 155, 244, 'leftRampLeft', collisionGroupC).setScale(0.82, 1)\n    \n    new StaticCustomShape(this, 152, 134, 'leftLoopTop', collisionGroupB).setAngle(11)\n    new StaticShape(this, 'rectangle', 247, 95, 135, 15, 6.15, collisionGroupB) // top loop\n    new StaticCustomShape(this, 60, 488, 'leftWall', collisionGroupB).setScale(1,1.1)\n    \n    new StaticCustomShape(this, 423, 530, 'rightWallA', collisionGroupB).setScale(1, 1.1).setAngle(-2.2)\n    new StaticCustomShape(this, 405, 310, 'rightWallB', collisionGroupB)\n    new StaticCustomShape(this, 350, 218, 'rightTrapCowl', collisionGroupB).setScale(0.82, 1) // Butters trap\n    new StaticCustomShape(this, 450, 455, 'farRightWall', collisionGroupB).setAngle(-.5) \n    \n    new StaticCustomShape(this, 365, 593, 'rightLane', collisionGroupB).setScale(0.82, 1)\n    new StaticCustomShape(this, 107, 593, 'leftLane', collisionGroupB).setScale(0.82, 1)\n    \n    new StaticCustomShape(this, 130, 540, 'leftSlingshot', collisionGroupB).setScale(0.82, 1).setCollidesWith(collisionGroupA)\n    new StaticCustomShape(this, 345, 540, 'rightSlingshot', collisionGroupB).setScale(0.82, 1).setCollidesWith(collisionGroupA)\n    \n    //new StaticCustomShape(this, 218, 90, 'midTargetLeft', collisionGroupB)\n    new StaticCustomShape(this, 378, 400, 'rightTargets', collisionGroupB).setScale(1, 1)\n    new StaticShape(this, 'rectangle', 257, 215, 62, 30, .02, collisionGroupB)// Cartmen targets\n    \n    //Small round rubbers\n    new StaticShape(this, 'circle', 407, 451, 5, null, null, collisionGroupB) \n    new StaticShape(this, 'circle', 320, 160, 10, null, null, collisionGroupB) // Bumpers spacer\n    new StaticShape(this, 'circle', 314, 80, 5, null, null, collisionGroupB)//Top tri-lane\n    new StaticShape(this, 'circle', 341, 76, 5, null, null, collisionGroupB)//Top tri-lane\n    new StaticShape(this, 'circle', 314, 98, 5, null, null, collisionGroupB)//Top tri-lane\n    new StaticShape(this, 'circle', 341, 88, 5, null, null, collisionGroupB)//Top tri-lane\n    new StaticShape(this, 'circle', 371, 98, 5, null, null, collisionGroupB)//Top tri-lane\n    \n    //Medium round rubbers\n    new StaticShape(this, 'circle', 236, 698, 6, null, null, collisionGroupB) // Center post\n    new StaticShape(this, 'circle', 100, 435, 8, null, null, collisionGroupB) // Left lane\n    new StaticShape(this, 'circle', 121, 491, 8, null, null, collisionGroupB) // Slingshot corners\n    new StaticShape(this, 'circle', 350, 491, 8, null, null, collisionGroupB) // \n    new StaticShape(this, 'circle', 148, 575, 8, null, null, collisionGroupB) // \n    new StaticShape(this, 'circle', 326, 575, 8, null, null, collisionGroupB) // \n    \n    //Second level (collision group C)\n    new StaticCustomShape(this, 147, 10, 'leftRampDiverter', collisionGroupE)\n    new StaticShape(this, 'circle', 144, 45, 23, null, null, collisionGroupD) // Left ramp bottom\n    new StaticCustomShape(this, 65, 500, 'leftLaneBottomLeft', collisionGroupC) // Left Lane bottom L\n    new StaticCustomShape(this, 110, 450, 'leftLaneBottomRight', collisionGroupC) // Left lane bottom R\n    new StaticCustomShape(this, 171, 184, 'leftRampRight', collisionGroupC).setScale(0.7, 1.2)\n    new StaticCustomShape(this, 163, 110, 'rightRampDivider', collisionGroupC).setScale(0.6, 1) // Left / center ramp divider\n    new StaticCustomShape(this, 140, 7, 'leftRampTop', collisionGroupC).setScale(0.8, 1)// Left ramp top\n    new StaticShape(this, 'rectangle', 220, 117, 35, 180, -0.2, collisionGroupC) // Mid ramp right\n    new StaticShape(this, 'circle', 348, 78, 50, null, null, collisionGroupC) //Right ramp bottom\n    new StaticCustomShape(this, 335, 16, 'rightRampTop', collisionGroupC).setScale(0.8, 1) // Right ramp top\n    new StaticShape(this, 'rectangle', 275, 125, 15, 170, -0.05, collisionGroupC) // Right ramp left\n    new StaticShape(this, 'rectangle', 319, 160, 20, 140, -0.15, collisionGroupC) // Right ramp right\n    new StaticShape(this, 'rectangle', 315, 160, 10, 140, -0.15, collisionGroupB) // Right ramp right\n    \n    new StaticShape(this, 'rectangle', 74, 228, 15, 360, 0.085, collisionGroupC) // Left rail L\n    new StaticShape(this, 'rectangle', 112, 228, 15, 360, 0.095, collisionGroupC) // Left rail R\n    new StaticShape(this, 'rectangle', 113, 511, 15, 25, 1, collisionGroupC) // Left rail termination\n\n    new StaticShape(this, 'rectangle', 402, 232, 15, 325, -0.08, collisionGroupC) // Right lane L\n    new StaticShape(this, 'rectangle', 445, 228, 15, 340, -0.08, collisionGroupC) // Right lane R\n    new StaticShape(this, 'rectangle', 383, 443, 130, 15, -1, collisionGroupC) // Right lane Bottom L\n    new StaticShape(this, 'rectangle', 427, 450, 160, 15, -1, collisionGroupC) // Right lane Bottom R\n    new StaticShape(this, 'rectangle', 363, 514, 15, 30, -1, collisionGroupC) // Right lane termination\n\n    \n\n    //Sensors \n    //constructor(scene, x, y, width, rotation, type, name, collisionGroup)\n\n    //Ramp on\n    new Sensor(this, 170, 235, 30, 1.6, 'ramp-on', 'leftRampOn', sensorGroupA)\n    new Sensor(this, 207, 205, 50, -.1, 'ramp-on', 'centerRampOn', sensorGroupA)\n    new Sensor(this, 303, 200, 60, -.1, 'ramp-on', 'rightRampOn', sensorGroupA)  \n    \n    //Ramp off\n    new Sensor(this, 78, 461, 30, -.50, 'ramp-off', 'leftRampOff', sensorGroupB)  \n    new Sensor(this, 396, 461, 30, .50, 'ramp-off', 'rightRampOff', sensorGroupB) \n\n    //Large sensor below all ramps incase ball does not make it all te way up. \n    new Sensor(this, 255, 262, 120, 0, 'ramp-off', 'allRampsOff', sensorGroupB, {\n        width: 100\n    })  \n\n    //Collision events\n    /*********************************************************/\n\n    this.matter.world.on('collisionstart', (event, bodyA, bodyB) => {\n\n        //Sensors\n        if (bodyB.label === 'Ball') {\n\n            //Ramp sensors on / off\n            if (bodyA.type === 'ramp-on'){\n                bodyB.isOnRamp = true\n                if(bodyA.label === 'centerRampOn'){\n                    bodyB.isOnCenterRamp = true\n                }\n            } \n\n            if (bodyA.type === 'ramp-off'){\n                setTimeout(function(){\n                    bodyB.isOnRamp = false\n                    bodyB.isOnLeftRamp = false\n                }, 100)\n            }\n        \n            //Slingshots\n            if (bodyA.label === 'Slingshot'){\n                slingshotA.fire()\n                slingshotB.fire()\n            }\n\n            //Pop bumpers\n            if ( bodyA.label === \"bumper\") {\n                bodyA.gameObject.fire(bodyB.position)\n            }\n        }\n    })\n}\n\n\n\nfunction update() {\n\n    \n    if(Phaser.Input.Keyboard.JustDown(spacebar)){\n        ball = new Ball(this, 416, 773, 'ball') \n        ball.launch()\n    }\n    \n    if (Phaser.Input.Keyboard.JustDown(left)){\n        leftFlipper.flip() \n    } \n    \n    if (Phaser.Input.Keyboard.JustUp(left)){\n        leftFlipper.release()\n    } \n\n    if (Phaser.Input.Keyboard.JustDown(right)){\n        rightFlipper.flip()\n        sideFlipper.flip()\n    } \n\n    if (Phaser.Input.Keyboard.JustUp(right)){\n        rightFlipper.release()\n        sideFlipper.release()\n    } \n} "],"file":"game.js"}