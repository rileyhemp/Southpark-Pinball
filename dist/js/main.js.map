{"version":3,"sources":["main.js"],"names":["config","type","Phaser","AUTO","width","height","physics","default","arcade","gravity","y","debug","scene","preload","create","update","player","bombs","platforms","cursors","stars","score","scoreText","game","Game","load","image","spritesheet","frameWidth","frameHeight","add","staticGroup","setScale","refreshBody","sprite","setBounceY","setCollideWorldBounds","anims","key","frames","generateFrameNumbers","start","end","frameRate","repeat","frame","collider","input","keyboard","createCursorKeys","group","setXY","x","stepX","children","iterate","child","Math","FloatBetween","overlap","collectStar","star","disableBody","setText","countActive","enableBody","Between","bomb","setBounce","setVelocity","text","fontSize","fill","hitBomb","pause","setTint","play","gameOver","left","isDown","setVelocityX","right","up","body","touching","down","setVelocityY"],"mappings":"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","sourcesContent":["var config = {\r\n    type: Phaser.AUTO,\r\n    width: 800,\r\n    height: 600,\r\n    physics: {\r\n        default: 'arcade',\r\n        arcade: {\r\n            gravity: { y: 300 },\r\n            debug: false\r\n        }\r\n    },\r\n    scene: {\r\n        preload: preload,\r\n        create: create,\r\n        update: update\r\n    }\r\n}\r\n\r\nvar player\r\nvar bombs\r\nvar platforms\r\nvar cursors\r\nvar stars\r\nvar score = 0\r\nvar scoreText\r\n\r\nvar game = new Phaser.Game(config);\r\n\r\nfunction preload ()\r\n{\r\n    this.load.image('sky', '../../assets/sky.png')\r\n    this.load.image('ground', '../../assets/platform.png')\r\n    this.load.image('star', '../../assets/star.png')\r\n    this.load.image('bomb', '../../assets/bomb.png')\r\n    this.load.spritesheet('dude',\r\n        '../../assets/dude.png',\r\n        { frameWidth: 32, frameHeight: 48 }\r\n    )\r\n}\r\n\r\nfunction create ()\r\n{\r\n    this.add.image(400,300,'sky')\r\n    this.add.image(400,300,'star')\r\n\r\n    var platforms = this.physics.add.staticGroup()\r\n    platforms.create(400,568, 'ground').setScale(2).refreshBody()\r\n    platforms.create(400,400,'ground')\r\n    platforms.create(50,250,'ground')\r\n    platforms.create(750,220,'ground')\r\n\r\n    player = this.physics.add.sprite(100,450,'dude')\r\n    player.setBounceY(0.2)\r\n    player.setCollideWorldBounds(true)\r\n\r\n    this.anims.create({\r\n        key: 'left',\r\n        frames: this.anims.generateFrameNumbers('dude', {start: 0, end: 3 \r\n        }),\r\n        frameRate: 10, \r\n        repeat: -1\r\n    })\r\n\r\n    this.anims.create({\r\n        key: 'turn',\r\n        frames: [ { key: 'dude', frame: 4 } ],\r\n        frameRate: 20\r\n    })\r\n\r\n    this.anims.create({\r\n        key: 'right',\r\n        frames: this.anims.generateFrameNumbers('dude', { start: 5, end: 8 } ),\r\n        frameRate: 10,\r\n        repeat: -1\r\n    })\r\n\r\n    this.physics.add.collider(player, platforms)\r\n    cursors = this.input.keyboard.createCursorKeys()\r\n\r\n    stars = this.physics.add.group({\r\n        key: 'star',\r\n        repeat: 11,\r\n        setXY: { x:12, y: 0, stepX: 70 }\r\n    })\r\n\r\n    stars.children.iterate(function (child) {\r\n        child.setBounceY(Phaser.Math.FloatBetween(0.4, 0.8))\r\n    })\r\n\r\n    this.physics.add.collider(stars, platforms)\r\n\r\n    this.physics.add.overlap(player, stars, collectStar, null, this)\r\n\r\n    function collectStar(player, star){\r\n        star.disableBody(true, true)\r\n        score += 10\r\n        scoreText.setText('Score: ' + score)\r\n\r\n        if (stars.countActive(true) === 0){\r\n            stars.children.iterate(function(child){\r\n                child.enableBody(true, child.x, 0, true, true)\r\n            })\r\n            //If player is on the left side, make set var to x coord on right side, visa versa.\r\n            var x = (player.x < 400) ? Phaser.Math.Between(400,800) :\r\n            Phaser.Math.Between(0,400)\r\n\r\n            //Make the bomb and add some props\r\n            var bomb = bombs.create(x, 16, 'bomb')\r\n            bomb.setBounce(1)\r\n            bomb.setCollideWorldBounds(true)\r\n            bomb.setVelocity(Phaser.Math.Between(-200, 200), 20)\r\n        }\r\n    }\r\n\r\n    scoreText = this.add.text(16, 16, 'score: 0', { fontSize: '32px', fill: '#000'})\r\n\r\n    bombs = this.physics.add.group()\r\n    this.physics.add.collider(bombs, platforms)\r\n    this.physics.add.collider(player, bombs, hitBomb, null, this)\r\n\r\n    function hitBomb (player, bomb) {\r\n        this.physics.pause()\r\n        player.setTint(0xff0000)\r\n        player.anims.play('turn')\r\n        gameOver = true\r\n    }\r\n\r\n}\r\n\r\nfunction update ()\r\n{\r\n    if (cursors.left.isDown) {\r\n        player.setVelocityX(-160)\r\n        player.anims.play('left', true)\r\n    } else if (cursors.right.isDown) {\r\n        player.setVelocityX(160)\r\n        player.anims.play('right', true)\r\n    } else {\r\n        player.setVelocityX(0)\r\n        player.anims.play('turn')\r\n    }\r\n\r\n    if (cursors.up.isDown && player.body.touching.down) {\r\n        player.setVelocityY(-330)\r\n    }\r\n}\r\n"],"file":"main.js"}